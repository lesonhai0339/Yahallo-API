2024-04-02 00:15:05.308 +07:00 [INF] Executed DbCommand (296ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [Yahallo];
2024-04-02 00:15:05.595 +07:00 [INF] Executed DbCommand (228ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Yahallo] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-04-02 00:15:05.626 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-02 00:15:05.724 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-04-02 00:15:05.726 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-02 00:15:05.748 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-02 00:15:05.771 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-02 00:15:05.793 +07:00 [INF] Applying migration '20240401171442_v1'.
2024-04-02 00:15:06.035 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Artist] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(255) NOT NULL,
    [Countries] int NOT NULL,
    [Depscription] nvarchar(max) NOT NULL,
    [Birth] datetime2 NOT NULL,
    [LifeStatus] int NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Artist] PRIMARY KEY ([Id])
);
2024-04-02 00:15:06.039 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Author] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(255) NOT NULL,
    [Countries] int NOT NULL,
    [Depscription] nvarchar(max) NOT NULL,
    [Birth] datetime2 NOT NULL,
    [LifeStatus] int NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Author] PRIMARY KEY ([Id])
);
2024-04-02 00:15:06.043 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [MangaSeason] (
    [Id] nvarchar(450) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_MangaSeason] PRIMARY KEY ([Id])
);
2024-04-02 00:15:06.049 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] nvarchar(450) NOT NULL,
    [RoleCode] int NOT NULL,
    [RoleName] nvarchar(450) NOT NULL,
    [RoleDescription] nvarchar(max) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
2024-04-02 00:15:06.055 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] nvarchar(450) NOT NULL,
    [DisplayName] nvarchar(max) NULL,
    [FirstName] nvarchar(200) NULL,
    [LastName] nvarchar(200) NULL,
    [Email] nvarchar(450) NOT NULL,
    [PhoneNumber] varchar(max) NULL,
    [EmailConfirm] bit NOT NULL,
    [PhoneConfirmed] bit NOT NULL,
    [UserName] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    [Status] int NOT NULL,
    [Level] int NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2024-04-02 00:15:06.062 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Manga] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NOT NULL,
    [Description] nvarchar(max) NULL,
    [Level] int NOT NULL,
    [Status] int NOT NULL,
    [Type] int NOT NULL,
    [Countries] int NOT NULL,
    [Season] int NOT NULL,
    [MangaSeasonId] nvarchar(450) NULL,
    [UserId] nvarchar(450) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Manga] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Manga_MangaSeason_MangaSeasonId] FOREIGN KEY ([MangaSeasonId]) REFERENCES [MangaSeason] ([Id]),
    CONSTRAINT [FK_Manga_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2024-04-02 00:15:06.068 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [UserRole] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_UserRole] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRole_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRole_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2024-04-02 00:15:06.084 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [UserToken] (
    [Id] nvarchar(450) NOT NULL,
    [AccessToken] nvarchar(max) NOT NULL,
    [RefeshToken] nvarchar(max) NOT NULL,
    [ExpiredRefeshToken] nvarchar(max) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_UserToken] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_UserToken_Users_Id] FOREIGN KEY ([Id]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2024-04-02 00:15:06.090 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AssociateName] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(255) NOT NULL,
    [MangaId] nvarchar(450) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_AssociateName] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AssociateName_Manga_MangaId] FOREIGN KEY ([MangaId]) REFERENCES [Manga] ([Id]) ON DELETE NO ACTION
);
2024-04-02 00:15:06.096 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Chapter] (
    [Id] nvarchar(450) NOT NULL,
    [Title] nvarchar(255) NULL,
    [Index] int NOT NULL,
    [MangaId] nvarchar(450) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Chapter] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Chapter_Manga_MangaId] FOREIGN KEY ([MangaId]) REFERENCES [Manga] ([Id]) ON DELETE NO ACTION
);
2024-04-02 00:15:06.100 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Follow] (
    [UserId] nvarchar(450) NOT NULL,
    [MangaId] nvarchar(450) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Follow] PRIMARY KEY ([UserId], [MangaId]),
    CONSTRAINT [FK_Follow_Manga_MangaId] FOREIGN KEY ([MangaId]) REFERENCES [Manga] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Follow_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2024-04-02 00:15:06.104 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [MangaArtist] (
    [MangaId] nvarchar(450) NOT NULL,
    [ArtistId] nvarchar(450) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_MangaArtist] PRIMARY KEY ([MangaId], [ArtistId]),
    CONSTRAINT [FK_MangaArtist_Artist_ArtistId] FOREIGN KEY ([ArtistId]) REFERENCES [Artist] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_MangaArtist_Manga_MangaId] FOREIGN KEY ([MangaId]) REFERENCES [Manga] ([Id]) ON DELETE NO ACTION
);
2024-04-02 00:15:06.107 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [MangaAuthor] (
    [MangaId] nvarchar(450) NOT NULL,
    [AuthorId] nvarchar(450) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_MangaAuthor] PRIMARY KEY ([MangaId], [AuthorId]),
    CONSTRAINT [FK_MangaAuthor_Author_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Author] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_MangaAuthor_Manga_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Manga] ([Id]) ON DELETE NO ACTION
);
2024-04-02 00:15:07.130 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [MangaView] (
    [MangaId] nvarchar(450) NOT NULL,
    [View] int NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_MangaView] PRIMARY KEY ([MangaId]),
    CONSTRAINT [FK_MangaView_Manga_MangaId] FOREIGN KEY ([MangaId]) REFERENCES [Manga] ([Id]) ON DELETE NO ACTION
);
2024-04-02 00:15:07.134 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Rating] (
    [UserId] nvarchar(450) NOT NULL,
    [MangaId] nvarchar(450) NOT NULL,
    [Rating] int NOT NULL,
    [Id] nvarchar(max) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Rating] PRIMARY KEY ([UserId], [MangaId]),
    CONSTRAINT [FK_Rating_Manga_MangaId] FOREIGN KEY ([MangaId]) REFERENCES [Manga] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Rating_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2024-04-02 00:15:07.140 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Comment] (
    [Id] nvarchar(450) NOT NULL,
    [Data] nvarchar(max) NULL,
    [CommentType] int NOT NULL,
    [UserId] nvarchar(450) NOT NULL,
    [MangaId] nvarchar(450) NULL,
    [ChapterId] nvarchar(450) NULL,
    [UserReplyId] nvarchar(450) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Comment] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Comment_Chapter_ChapterId] FOREIGN KEY ([ChapterId]) REFERENCES [Chapter] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Comment_Manga_MangaId] FOREIGN KEY ([MangaId]) REFERENCES [Manga] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Comment_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Comment_Users_UserReplyId] FOREIGN KEY ([UserReplyId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2024-04-02 00:15:07.143 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Image] (
    [Id] nvarchar(450) NOT NULL,
    [Index] int NOT NULL,
    [BaseUrl] nvarchar(max) NOT NULL,
    [CloudUrl] nvarchar(max) NULL,
    [TypeImage] int NOT NULL,
    [UserId] nvarchar(450) NULL,
    [ChapterId] nvarchar(450) NULL,
    [MangaId] nvarchar(450) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Image] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Image_Chapter_ChapterId] FOREIGN KEY ([ChapterId]) REFERENCES [Chapter] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Image_Manga_MangaId] FOREIGN KEY ([MangaId]) REFERENCES [Manga] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Image_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2024-04-02 00:15:07.147 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AssociateName_MangaId] ON [AssociateName] ([MangaId]);
2024-04-02 00:15:07.148 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Chapter_MangaId] ON [Chapter] ([MangaId]);
2024-04-02 00:15:07.675 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comment_ChapterId] ON [Comment] ([ChapterId]);
2024-04-02 00:15:07.677 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comment_MangaId] ON [Comment] ([MangaId]);
2024-04-02 00:15:07.678 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comment_UserId] ON [Comment] ([UserId]);
2024-04-02 00:15:07.679 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comment_UserReplyId] ON [Comment] ([UserReplyId]);
2024-04-02 00:15:07.681 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Follow_MangaId] ON [Follow] ([MangaId]);
2024-04-02 00:15:07.683 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Image_ChapterId] ON [Image] ([ChapterId]);
2024-04-02 00:15:07.686 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Image_MangaId] ON [Image] ([MangaId]) WHERE [MangaId] IS NOT NULL;
2024-04-02 00:15:07.688 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Image_UserId] ON [Image] ([UserId]) WHERE [UserId] IS NOT NULL;
2024-04-02 00:15:07.689 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Manga_Id] ON [Manga] ([Id]);
2024-04-02 00:15:07.690 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Manga_MangaSeasonId] ON [Manga] ([MangaSeasonId]);
2024-04-02 00:15:07.691 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Manga_UserId] ON [Manga] ([UserId]);
2024-04-02 00:15:07.692 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_MangaArtist_ArtistId] ON [MangaArtist] ([ArtistId]);
2024-04-02 00:15:07.693 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_MangaAuthor_AuthorId] ON [MangaAuthor] ([AuthorId]);
2024-04-02 00:15:07.695 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Rating_MangaId] ON [Rating] ([MangaId]);
2024-04-02 00:15:07.697 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Roles_Id] ON [Roles] ([Id]);
2024-04-02 00:15:07.698 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserRole_RoleId] ON [UserRole] ([RoleId]);
2024-04-02 00:15:07.699 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserRole_UserId] ON [UserRole] ([UserId]);
2024-04-02 00:15:07.700 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Users_Email] ON [Users] ([Email]);
2024-04-02 00:15:07.710 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240401171442_v1', N'7.0.0');
2024-04-02 00:15:31.380 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-02 00:15:32.182 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-02 00:15:32.183 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-02 00:15:32.185 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-02 00:15:32.186 +07:00 [INF] Hosting environment: Development
2024-04-02 00:15:32.187 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-02 00:15:39.215 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-02 00:15:41.240 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 1253.0986 ms
2024-04-02 00:15:41.270 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 2066.8094ms
2024-04-02 00:15:41.307 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-02 00:15:41.308 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-02 00:15:41.324 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 15.9383ms
2024-04-02 00:15:41.469 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 161.6065ms
2024-04-02 00:15:41.547 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - -
2024-04-02 00:15:42.235 +07:00 [INF] HTTP GET /swagger/v111/swagger.json responded 200 in 683.8378 ms
2024-04-02 00:15:42.237 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - - - 200 - application/json;charset=utf-8 690.0311ms
2024-04-02 00:16:20.308 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/user/create application/json 172
2024-04-02 00:16:20.312 +07:00 [INF] CORS policy execution successful.
2024-04-02 00:16:20.323 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.UserController.CreateUser (YAHALLO)'
2024-04-02 00:16:20.383 +07:00 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.String]]] CreateUser(YAHALLO.Application.Commands.UserCommand.Anynomous.Create.CreateUserCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.UserController (YAHALLO).
2024-04-02 00:16:24.144 +07:00 [INF] Executed DbCommand (177ms) [Parameters=[@__request_Email_0='?' (Size = 450), @__request_UserName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0 OR [u].[UserName] = @__request_UserName_1
2024-04-02 00:16:24.452 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreateDate], [r].[DeleteDate], [r].[IdUserCreate], [r].[IdUserDelete], [r].[IdUserUpdate], [r].[RoleCode], [r].[RoleDescription], [r].[RoleName], [r].[UpdateDate]
FROM [Roles] AS [r]
WHERE [r].[RoleCode] = 2
2024-04-02 00:17:26.974 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-02 00:17:27.028 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-02 00:17:27.030 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-02 00:17:27.031 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-02 00:17:27.046 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-02 00:17:27.061 +07:00 [INF] Applying migration '20240401171715_v2'.
2024-04-02 00:17:27.330 +07:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateDate', N'DeleteDate', N'IdUserCreate', N'IdUserDelete', N'IdUserUpdate', N'RoleCode', N'RoleDescription', N'RoleName', N'UpdateDate') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [CreateDate], [DeleteDate], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [RoleCode], [RoleDescription], [RoleName], [UpdateDate])
VALUES (N'478b5e9aba1c42cb814b26ed47412760', NULL, NULL, NULL, NULL, NULL, 3, N'Role for Moderator', N'Mod', NULL),
(N'4e5add13a3874804b73484b3311cc422', NULL, NULL, NULL, NULL, NULL, 4, N'If User has this role then User can use Create, Update, Delete Manga', N'Upload', NULL),
(N'96c85d7acc6a416c9e33cdd8e7629c87', NULL, NULL, NULL, NULL, NULL, 2, N'Normal User or New User has this Role', N'User', NULL),
(N'f25aa70593ee4d9f9fba524a52b7173c', NULL, NULL, NULL, NULL, NULL, 1, N'Only Admin has this Role', N'Admin', NULL);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreateDate', N'DeleteDate', N'IdUserCreate', N'IdUserDelete', N'IdUserUpdate', N'RoleCode', N'RoleDescription', N'RoleName', N'UpdateDate') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
2024-04-02 00:17:27.332 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240401171715_v2', N'7.0.0');
2024-04-02 00:17:43.314 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-02 00:17:43.896 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-02 00:17:43.897 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-02 00:17:43.898 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-02 00:17:43.899 +07:00 [INF] Hosting environment: Development
2024-04-02 00:17:43.900 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-02 00:17:48.594 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-02 00:17:49.052 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 269.6125 ms
2024-04-02 00:17:49.072 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 484.6114ms
2024-04-02 00:17:49.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-02 00:17:49.217 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 8.2833ms
2024-04-02 00:17:49.266 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-02 00:17:49.420 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 154.2514ms
2024-04-02 00:17:49.488 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - -
2024-04-02 00:17:50.067 +07:00 [INF] HTTP GET /swagger/v111/swagger.json responded 200 in 576.7719 ms
2024-04-02 00:17:50.072 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - - - 200 - application/json;charset=utf-8 583.7271ms
2024-04-02 00:18:44.360 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/user/create application/json 172
2024-04-02 00:18:44.371 +07:00 [INF] CORS policy execution successful.
2024-04-02 00:18:44.385 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.UserController.CreateUser (YAHALLO)'
2024-04-02 00:18:44.454 +07:00 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.String]]] CreateUser(YAHALLO.Application.Commands.UserCommand.Anynomous.Create.CreateUserCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.UserController (YAHALLO).
2024-04-02 00:18:48.134 +07:00 [INF] Executed DbCommand (63ms) [Parameters=[@__request_Email_0='?' (Size = 450), @__request_UserName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0 OR [u].[UserName] = @__request_UserName_1
2024-04-02 00:18:48.464 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreateDate], [r].[DeleteDate], [r].[IdUserCreate], [r].[IdUserDelete], [r].[IdUserUpdate], [r].[RoleCode], [r].[RoleDescription], [r].[RoleName], [r].[UpdateDate]
FROM [Roles] AS [r]
WHERE [r].[RoleCode] = 2
2024-04-02 00:18:48.818 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (DbType = Boolean), @p6='?' (Size = 200), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 200), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 8000) (DbType = AnsiString), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 450), @p19='?' (Size = 450), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreateDate], [DeleteDate], [DisplayName], [Email], [EmailConfirm], [FirstName], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [LastName], [Level], [Password], [PhoneConfirmed], [PhoneNumber], [Status], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
INSERT INTO [UserRole] ([RoleId], [UserId], [CreateDate], [DeleteDate], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [UpdateDate])
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25);
2024-04-02 00:18:49.195 +07:00 [ERR] Yahallo Request: Unhandled Exception for Request CreateUserCommand {"FirstName":"Lê Sơn","LastName":"Hải","Email":"haileds938@gmail.com","PhoneNumber":"0384539162","UserName":"lesonhai","Password":"Hai@119067","$type":"CreateUserCommand"}
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at YAHALLO.Application.Services.MailService.Service.EmailService.GenerateEmailToken(String userId) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Services\MailService\Service\EmailService.cs:line 148
   at YAHALLO.Application.Commands.UserCommand.Anynomous.Create.CreateUserCommandHandler.Handle(CreateUserCommand request, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\UserCommand\Anynomous\Create\CreateUserCommandHandler.cs:line 76
   at YAHALLO.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at YAHALLO.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\AuthorizationBehaviour.cs:line 79
   at YAHALLO.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\PerformanceBehaviour.cs:line 34
   at YAHALLO.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 25
2024-04-02 00:18:49.911 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.UserController.CreateUser (YAHALLO) in 5451.2799ms
2024-04-02 00:18:50.093 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.UserController.CreateUser (YAHALLO)'
2024-04-02 00:18:50.387 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at YAHALLO.Application.Services.MailService.Service.EmailService.GenerateEmailToken(String userId) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Services\MailService\Service\EmailService.cs:line 148
   at YAHALLO.Application.Commands.UserCommand.Anynomous.Create.CreateUserCommandHandler.Handle(CreateUserCommand request, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\UserCommand\Anynomous\Create\CreateUserCommandHandler.cs:line 76
   at YAHALLO.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at YAHALLO.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\AuthorizationBehaviour.cs:line 79
   at YAHALLO.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\PerformanceBehaviour.cs:line 34
   at YAHALLO.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 25
   at YAHALLO.Controllers.Anonymous.UserController.CreateUser(CreateUserCommand command, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO\Controllers\Anonymous\UserController.cs:line 99
   at lambda_method7(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ExceptionContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-04-02 00:18:50.425 +07:00 [ERR] HTTP POST /user/create responded 500 in 6051.2085 ms
2024-04-02 00:18:50.435 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7181/user/create application/json 172 - 500 - application/problem+json 6075.2757ms
2024-04-02 00:19:28.132 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/user/create application/json 172
2024-04-02 00:19:28.158 +07:00 [INF] CORS policy execution successful.
2024-04-02 00:19:28.164 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.UserController.CreateUser (YAHALLO)'
2024-04-02 00:19:28.167 +07:00 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.String]]] CreateUser(YAHALLO.Application.Commands.UserCommand.Anynomous.Create.CreateUserCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.UserController (YAHALLO).
2024-04-02 00:19:32.610 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[@__request_Email_0='?' (Size = 450), @__request_UserName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0 OR [u].[UserName] = @__request_UserName_1
2024-04-02 00:19:42.509 +07:00 [ERR] Yahallo Request: Unhandled Exception for Request CreateUserCommand {"FirstName":"Lê Sơn","LastName":"Hải","Email":"haileds938@gmail.com","PhoneNumber":"0384539162","UserName":"lesonhai","Password":"Hai@119067","$type":"CreateUserCommand"}
YAHALLO.Domain.Exceptions.NotFoundException: Email này đã được sử đụng
   at YAHALLO.Application.Commands.UserCommand.Anynomous.Create.CreateUserCommandHandler.Handle(CreateUserCommand request, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\UserCommand\Anynomous\Create\CreateUserCommandHandler.cs:line 44
   at YAHALLO.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at YAHALLO.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\AuthorizationBehaviour.cs:line 79
   at YAHALLO.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\PerformanceBehaviour.cs:line 34
   at YAHALLO.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 25
2024-04-02 00:19:42.881 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-04-02 00:19:42.884 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.UserController.CreateUser (YAHALLO) in 14715.537ms
2024-04-02 00:19:42.886 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.UserController.CreateUser (YAHALLO)'
2024-04-02 00:19:42.887 +07:00 [INF] HTTP POST /user/create responded 404 in 14728.2037 ms
2024-04-02 00:19:42.889 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7181/user/create application/json 172 - 404 - application/problem+json;+charset=utf-8 14756.4613ms
2024-04-02 00:20:15.811 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/user/create application/json 179
2024-04-02 00:20:15.821 +07:00 [INF] CORS policy execution successful.
2024-04-02 00:20:15.822 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.UserController.CreateUser (YAHALLO)'
2024-04-02 00:20:15.823 +07:00 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.String]]] CreateUser(YAHALLO.Application.Commands.UserCommand.Anynomous.Create.CreateUserCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.UserController (YAHALLO).
2024-04-02 00:20:19.703 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_Email_0='?' (Size = 450), @__request_UserName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0 OR [u].[UserName] = @__request_UserName_1
2024-04-02 00:20:28.011 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreateDate], [r].[DeleteDate], [r].[IdUserCreate], [r].[IdUserDelete], [r].[IdUserUpdate], [r].[RoleCode], [r].[RoleDescription], [r].[RoleName], [r].[UpdateDate]
FROM [Roles] AS [r]
WHERE [r].[RoleCode] = 2
2024-04-02 00:20:34.404 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (DbType = Boolean), @p6='?' (Size = 200), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 200), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 8000) (DbType = AnsiString), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 450), @p19='?' (Size = 450), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreateDate], [DeleteDate], [DisplayName], [Email], [EmailConfirm], [FirstName], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [LastName], [Level], [Password], [PhoneConfirmed], [PhoneNumber], [Status], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
INSERT INTO [UserRole] ([RoleId], [UserId], [CreateDate], [DeleteDate], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [UpdateDate])
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25);
2024-04-02 00:20:44.586 +07:00 [ERR] Yahallo Request: Unhandled Exception for Request CreateUserCommand {"FirstName":"Lê Sơn","LastName":"Hải 1","Email":"haileds9339@gmail.com","PhoneNumber":"0909307670","UserName":"lesonhai0339","Password":"Hai@119067","$type":"CreateUserCommand"}
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at YAHALLO.Application.Services.MailService.Service.EmailService.GenerateEmailToken(String userId) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Services\MailService\Service\EmailService.cs:line 148
   at YAHALLO.Application.Commands.UserCommand.Anynomous.Create.CreateUserCommandHandler.Handle(CreateUserCommand request, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\UserCommand\Anynomous\Create\CreateUserCommandHandler.cs:line 76
   at YAHALLO.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at YAHALLO.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\AuthorizationBehaviour.cs:line 79
   at YAHALLO.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\PerformanceBehaviour.cs:line 34
   at YAHALLO.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 25
2024-04-02 00:20:45.150 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.UserController.CreateUser (YAHALLO) in 29326.0052ms
2024-04-02 00:20:45.351 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.UserController.CreateUser (YAHALLO)'
2024-04-02 00:20:45.729 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at YAHALLO.Application.Services.MailService.Service.EmailService.GenerateEmailToken(String userId) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Services\MailService\Service\EmailService.cs:line 148
   at YAHALLO.Application.Commands.UserCommand.Anynomous.Create.CreateUserCommandHandler.Handle(CreateUserCommand request, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\UserCommand\Anynomous\Create\CreateUserCommandHandler.cs:line 76
   at YAHALLO.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at YAHALLO.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\AuthorizationBehaviour.cs:line 79
   at YAHALLO.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\PerformanceBehaviour.cs:line 34
   at YAHALLO.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 25
   at YAHALLO.Controllers.Anonymous.UserController.CreateUser(CreateUserCommand command, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO\Controllers\Anonymous\UserController.cs:line 99
   at lambda_method7(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ExceptionContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-04-02 00:20:45.739 +07:00 [ERR] HTTP POST /user/create responded 500 in 29917.5083 ms
2024-04-02 00:21:01.474 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7181/user/create application/json 179 - 500 - application/problem+json 45662.7025ms
2024-04-02 00:29:22.678 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-02 00:29:23.500 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-02 00:29:23.502 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-02 00:29:23.504 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-02 00:29:23.505 +07:00 [INF] Hosting environment: Development
2024-04-02 00:29:23.505 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-02 00:29:26.131 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-02 00:29:27.734 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 1336.7697 ms
2024-04-02 00:29:27.766 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 1631.8119ms
2024-04-02 00:29:28.019 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-02 00:29:28.050 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-02 00:29:28.128 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 108.4253ms
2024-04-02 00:29:28.547 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 496.8343ms
2024-04-02 00:29:28.647 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - -
2024-04-02 00:29:29.943 +07:00 [INF] HTTP GET /swagger/v111/swagger.json responded 200 in 1288.3860 ms
2024-04-02 00:29:29.945 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - - - 200 - application/json;charset=utf-8 1298.4478ms
2024-04-02 00:30:06.518 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/user/create application/json 172
2024-04-02 00:30:06.525 +07:00 [INF] CORS policy execution successful.
2024-04-02 00:30:06.535 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.UserController.CreateUser (YAHALLO)'
2024-04-02 00:30:06.609 +07:00 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.String]]] CreateUser(YAHALLO.Application.Commands.UserCommand.Anynomous.Create.CreateUserCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.UserController (YAHALLO).
2024-04-02 00:30:10.790 +07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__request_Email_0='?' (Size = 450), @__request_UserName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0 OR [u].[UserName] = @__request_UserName_1
2024-04-02 00:30:11.294 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreateDate], [r].[DeleteDate], [r].[IdUserCreate], [r].[IdUserDelete], [r].[IdUserUpdate], [r].[RoleCode], [r].[RoleDescription], [r].[RoleName], [r].[UpdateDate]
FROM [Roles] AS [r]
WHERE [r].[RoleCode] = 2
2024-04-02 00:30:11.763 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (DbType = Boolean), @p6='?' (Size = 200), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 200), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 8000) (DbType = AnsiString), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 450), @p19='?' (Size = 450), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreateDate], [DeleteDate], [DisplayName], [Email], [EmailConfirm], [FirstName], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [LastName], [Level], [Password], [PhoneConfirmed], [PhoneNumber], [Status], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
INSERT INTO [UserRole] ([RoleId], [UserId], [CreateDate], [DeleteDate], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [UpdateDate])
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25);
2024-04-02 00:30:16.416 +07:00 [WRN] Yahallo Long Running Request: CreateUserCommand (9514 milliseconds)  {"FirstName":"Lê Sơn","LastName":"Hải","Email":"haileds938@gmail.com","PhoneNumber":"0384539162","UserName":"lesonhai","Password":"Hai@119067","$type":"CreateUserCommand"}
2024-04-02 00:30:16.472 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-04-02 00:30:16.496 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.UserController.CreateUser (YAHALLO) in 9873.7521ms
2024-04-02 00:30:16.499 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.UserController.CreateUser (YAHALLO)'
2024-04-02 00:30:16.500 +07:00 [INF] HTTP POST /user/create responded 200 in 9973.2969 ms
2024-04-02 00:30:16.515 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7181/user/create application/json 172 - 200 - application/json;+charset=utf-8 9996.8173ms
2024-04-02 00:30:41.210 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/services/confirm-email?token=5AB1E80969E4A693760571108A96B51B79F5174E616531BEFCB3F6E00A884FEE&userid=0c425578cf3545498bfe86ae001ad508 - -
2024-04-02 00:30:41.250 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.ServicesController.ConfirmEmail (YAHALLO)'
2024-04-02 00:30:41.352 +07:00 [INF] Route matched with {action = "ConfirmEmail", controller = "Services"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.String]]] ConfirmEmail(System.String, System.String, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.ServicesController (YAHALLO).
2024-04-02 00:30:41.934 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_UserId_0 AND (([u].[IdUserDelete] IS NULL) OR ([u].[IdUserDelete] LIKE N'')) AND ([u].[DeleteDate] IS NULL)
2024-04-02 00:30:42.004 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p4='?' (DbType = Boolean), @p5='?' (Size = 200), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 200), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = AnsiString), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreateDate] = @p0, [DeleteDate] = @p1, [DisplayName] = @p2, [Email] = @p3, [EmailConfirm] = @p4, [FirstName] = @p5, [IdUserCreate] = @p6, [IdUserDelete] = @p7, [IdUserUpdate] = @p8, [LastName] = @p9, [Level] = @p10, [Password] = @p11, [PhoneConfirmed] = @p12, [PhoneNumber] = @p13, [Status] = @p14, [UpdateDate] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17;
2024-04-02 00:30:42.018 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-04-02 00:30:42.021 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.ServicesController.ConfirmEmail (YAHALLO) in 662.0026ms
2024-04-02 00:30:42.024 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.ServicesController.ConfirmEmail (YAHALLO)'
2024-04-02 00:30:42.026 +07:00 [INF] HTTP GET /services/confirm-email responded 200 in 781.5621 ms
2024-04-02 00:30:42.035 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/services/confirm-email?token=5AB1E80969E4A693760571108A96B51B79F5174E616531BEFCB3F6E00A884FEE&userid=0c425578cf3545498bfe86ae001ad508 - - - 200 - application/json;+charset=utf-8 824.7211ms
2024-04-02 00:30:42.382 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/favicon.ico - -
2024-04-02 00:30:42.406 +07:00 [INF] HTTP GET /favicon.ico responded 404 in 5.4821 ms
2024-04-02 00:30:42.448 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/favicon.ico - - - 404 0 - 66.2223ms
2024-04-02 00:31:01.751 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/user/login application/json 56
2024-04-02 00:31:01.753 +07:00 [INF] CORS policy execution successful.
2024-04-02 00:31:01.774 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.UserController.Login (YAHALLO)'
2024-04-02 00:31:01.784 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[YAHALLO.Application.ResponeTypes.LoginRespone]]] Login(YAHALLO.Application.Commands.AuthenticationCommand.Login.LoginCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.UserController (YAHALLO).
2024-04-02 00:31:01.938 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__request_UserName_0
2024-04-02 00:31:01.974 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__checkUserExist_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessToken], [u].[CreateDate], [u].[DeleteDate], [u].[ExpiredRefeshToken], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[RefeshToken], [u].[UpdateDate]
FROM [UserToken] AS [u]
WHERE [u].[Id] = @__checkUserExist_Id_0
2024-04-02 00:31:02.047 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u].[CreateDate], [u].[DeleteDate], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[UpdateDate]
FROM [UserRole] AS [u]
WHERE [u].[UserId] = @__p_0
2024-04-02 00:31:02.078 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreateDate], [r].[DeleteDate], [r].[IdUserCreate], [r].[IdUserDelete], [r].[IdUserUpdate], [r].[RoleCode], [r].[RoleDescription], [r].[RoleName], [r].[UpdateDate]
FROM [Roles] AS [r]
WHERE [r].[Id] = @__p_0
2024-04-02 00:31:02.661 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserToken] ([Id], [AccessToken], [CreateDate], [DeleteDate], [ExpiredRefeshToken], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [RefeshToken], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-04-02 00:31:02.667 +07:00 [WRN] Yahallo Long Running Request: LoginCommand (764 milliseconds)  {"UserName":"lesonhai","Password":"Hai@119067","$type":"LoginCommand"}
2024-04-02 00:31:02.669 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[YAHALLO.Application.ResponeTypes.LoginRespone, YAHALLO.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-02 00:31:02.676 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.UserController.Login (YAHALLO) in 890.2223ms
2024-04-02 00:31:02.678 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.UserController.Login (YAHALLO)'
2024-04-02 00:31:02.683 +07:00 [INF] HTTP POST /user/login responded 200 in 928.1666 ms
2024-04-02 00:31:02.686 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7181/user/login application/json 56 - 200 - application/json;+charset=utf-8 934.6388ms
2024-04-02 00:31:37.522 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7181/user/update multipart/form-data;+boundary=----WebKitFormBoundaryE5hnqTzffkEcIBep 587800
2024-04-02 00:31:37.539 +07:00 [INF] CORS policy execution successful.
2024-04-02 00:31:37.677 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.UserController.UpdateUser (YAHALLO)'
2024-04-02 00:31:37.692 +07:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.String]]] UpdateUser(YAHALLO.Application.Commands.UserCommand.Anynomous.Update.UpdateUserCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.UserController (YAHALLO).
2024-04-02 00:31:37.991 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__request_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_Id_0 AND ([u].[DeleteDate] IS NULL) AND (([u].[IdUserDelete] IS NULL) OR ([u].[IdUserDelete] LIKE N''))
2024-04-02 00:31:38.106 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__checkUserExists_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[UserId] = @__checkUserExists_Id_0
2024-04-02 00:31:38.227 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 450), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (Size = 450), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Image] ([Id], [BaseUrl], [ChapterId], [CloudUrl], [CreateDate], [DeleteDate], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [Index], [MangaId], [TypeImage], [UpdateDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2024-04-02 00:31:38.259 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-04-02 00:31:38.262 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.UserController.UpdateUser (YAHALLO) in 567.7734ms
2024-04-02 00:31:38.264 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.UserController.UpdateUser (YAHALLO)'
2024-04-02 00:31:38.265 +07:00 [INF] HTTP PUT /user/update responded 200 in 725.2759 ms
2024-04-02 00:31:38.269 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7181/user/update multipart/form-data;+boundary=----WebKitFormBoundaryE5hnqTzffkEcIBep 587800 - 200 - application/json;+charset=utf-8 747.1011ms
2024-04-02 00:31:43.513 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/user/get-all - -
2024-04-02 00:31:43.519 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.UserController.GetAll (YAHALLO)'
2024-04-02 00:31:43.534 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.Collections.Generic.List`1[YAHALLO.Application.Queries.UserQuery.UserDto]]]] GetAll(System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.UserController (YAHALLO).
2024-04-02 00:31:43.838 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IdUserDelete] IS NULL) OR ([u].[IdUserDelete] LIKE N'')) AND ([u].[DeleteDate] IS NULL)
2024-04-02 00:31:43.893 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[UserId] = @__p_0
2024-04-02 00:31:43.900 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[System.Collections.Generic.List`1[[YAHALLO.Application.Queries.UserQuery.UserDto, YAHALLO.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-04-02 00:31:43.921 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.UserController.GetAll (YAHALLO) in 386.0531ms
2024-04-02 00:31:43.923 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.UserController.GetAll (YAHALLO)'
2024-04-02 00:31:43.923 +07:00 [INF] HTTP GET /user/get-all responded 200 in 408.3362 ms
2024-04-02 00:31:43.926 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/user/get-all - - - 200 - application/json;+charset=utf-8 412.5090ms
2024-04-02 00:32:03.749 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/services/image?filepath=Data%5C%5CUser%5C%5C934486-guilty-crown-wallpaper-1920x1080-1920x1080-pc.jpg - -
2024-04-02 00:32:03.772 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.ServicesController.Image (YAHALLO)'
2024-04-02 00:32:03.796 +07:00 [INF] Route matched with {action = "Image", controller = "Services"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Image(System.String) on controller YAHALLO.Controllers.Anonymous.ServicesController (YAHALLO).
2024-04-02 00:32:03.809 +07:00 [INF] Executing PhysicalFileResult, sending file 'D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO\Data\\User\\934486-guilty-crown-wallpaper-1920x1080-1920x1080-pc.jpg' with download name '' ...
2024-04-02 00:32:03.869 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.ServicesController.Image (YAHALLO) in 70.044ms
2024-04-02 00:32:03.871 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.ServicesController.Image (YAHALLO)'
2024-04-02 00:32:03.871 +07:00 [INF] HTTP GET /services/image responded 200 in 114.6546 ms
2024-04-02 00:32:03.873 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/services/image?filepath=Data%5C%5CUser%5C%5C934486-guilty-crown-wallpaper-1920x1080-1920x1080-pc.jpg - - - 200 587251 image/jpeg 124.4754ms
2024-04-02 00:33:57.007 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/manga/create multipart/form-data;+boundary=----WebKitFormBoundaryCjt3YAcP5KpcYiBD 25020
2024-04-02 00:33:57.015 +07:00 [INF] CORS policy execution successful.
2024-04-02 00:33:57.029 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.MangaController.CreateManga (YAHALLO)'
2024-04-02 00:33:57.039 +07:00 [INF] Route matched with {action = "CreateManga", controller = "Manga"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.String]]] CreateManga(YAHALLO.Application.Commands.MangaCommand.Create.CreateMangaCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.MangaController (YAHALLO).
2024-04-02 00:33:57.358 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE (([m].[IdUserDelete] IS NULL) OR ([m].[IdUserDelete] LIKE N'')) AND ([m].[DeleteDate] IS NULL) AND [m].[Name] = N'Sakurasou' AND [m].[Description] = N'Test' AND [m].[Level] = 1 AND [m].[Status] = 2 AND [m].[Type] = 2 AND [m].[Countries] = 1 AND [m].[Season] = 1
2024-04-02 00:33:57.464 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (Size = 450), @p10='?' (Size = 256), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = DateTime2), @p15='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Manga] ([Id], [Countries], [CreateDate], [DeleteDate], [Description], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [Level], [MangaSeasonId], [Name], [Season], [Status], [Type], [UpdateDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2024-04-02 00:33:57.505 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[CreateDate], [m].[DeleteDate], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[UpdateDate]
FROM [MangaSeason] AS [m]
WHERE 0 = 1
2024-04-02 00:33:57.596 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p8='?' (Size = 450), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [MangaSeason] ([Id], [CreateDate], [DeleteDate], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
UPDATE [Manga] SET [MangaSeasonId] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2024-04-02 00:33:57.615 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 450), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (Size = 450), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Image] ([Id], [BaseUrl], [ChapterId], [CloudUrl], [CreateDate], [DeleteDate], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [Index], [MangaId], [TypeImage], [UpdateDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2024-04-02 00:33:57.624 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-04-02 00:33:57.628 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.MangaController.CreateManga (YAHALLO) in 588.258ms
2024-04-02 00:33:57.630 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.MangaController.CreateManga (YAHALLO)'
2024-04-02 00:33:57.631 +07:00 [INF] HTTP POST /manga/create responded 200 in 615.4908 ms
2024-04-02 00:33:57.641 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7181/manga/create multipart/form-data;+boundary=----WebKitFormBoundaryCjt3YAcP5KpcYiBD 25020 - 200 - application/json;+charset=utf-8 633.2482ms
2024-04-02 00:34:03.547 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/manga/get-all - -
2024-04-02 00:34:03.554 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.MangaController.GetAllManga (YAHALLO)'
2024-04-02 00:34:03.561 +07:00 [INF] Route matched with {action = "GetAllManga", controller = "Manga"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.Collections.Generic.List`1[YAHALLO.Application.Queries.MangaQuery.MangaDto]]]] GetAllManga(System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.MangaController (YAHALLO).
2024-04-02 00:34:03.656 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE (([m].[IdUserDelete] IS NULL) OR ([m].[IdUserDelete] LIKE N'')) AND ([m].[DeleteDate] IS NULL)
2024-04-02 00:34:03.683 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[MangaId] = @__p_0
2024-04-02 00:34:03.705 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-04-02 00:34:03.716 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[System.Collections.Generic.List`1[[YAHALLO.Application.Queries.MangaQuery.MangaDto, YAHALLO.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-04-02 00:34:03.763 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.MangaController.GetAllManga (YAHALLO) in 199.5055ms
2024-04-02 00:34:03.764 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.MangaController.GetAllManga (YAHALLO)'
2024-04-02 00:34:03.765 +07:00 [INF] HTTP GET /manga/get-all responded 200 in 216.5209 ms
2024-04-02 00:34:03.768 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/manga/get-all - - - 200 - application/json;+charset=utf-8 220.2470ms
2024-04-02 00:34:21.190 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/services/image?filepath=Data%5C%5CThumbnail%5C%5C43643.jpg - -
2024-04-02 00:34:21.192 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.ServicesController.Image (YAHALLO)'
2024-04-02 00:34:21.193 +07:00 [INF] Route matched with {action = "Image", controller = "Services"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Image(System.String) on controller YAHALLO.Controllers.Anonymous.ServicesController (YAHALLO).
2024-04-02 00:34:21.196 +07:00 [INF] Executing PhysicalFileResult, sending file 'D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO\Data\\Thumbnail\\43643.jpg' with download name '' ...
2024-04-02 00:34:21.200 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.ServicesController.Image (YAHALLO) in 4.8805ms
2024-04-02 00:34:21.201 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.ServicesController.Image (YAHALLO)'
2024-04-02 00:34:21.202 +07:00 [INF] HTTP GET /services/image responded 200 in 10.9914 ms
2024-04-02 00:34:21.204 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/services/image?filepath=Data%5C%5CThumbnail%5C%5C43643.jpg - - - 200 24060 image/jpeg 14.0778ms
2024-04-02 00:45:16.341 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-02 00:45:17.230 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-02 00:45:17.231 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-02 00:45:17.233 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-02 00:45:17.234 +07:00 [INF] Hosting environment: Development
2024-04-02 00:45:17.235 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-02 00:45:21.722 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-02 00:45:22.648 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 640.7415 ms
2024-04-02 00:45:22.698 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-02 00:45:22.698 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-02 00:45:23.039 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 1321.7985ms
2024-04-02 00:45:23.462 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 763.8114ms
2024-04-02 00:45:24.922 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 2224.0475ms
2024-04-02 00:45:25.105 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - -
2024-04-02 00:45:26.135 +07:00 [INF] HTTP GET /swagger/v111/swagger.json responded 200 in 1025.4263 ms
2024-04-02 00:45:26.145 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - - - 200 - application/json;charset=utf-8 1039.5817ms
2024-04-02 00:45:49.386 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/manga/get-all - -
2024-04-02 00:45:49.766 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.MangaController.GetAllManga (YAHALLO)'
2024-04-02 00:45:49.860 +07:00 [INF] Route matched with {action = "GetAllManga", controller = "Manga"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.Collections.Generic.List`1[YAHALLO.Application.Queries.MangaQuery.MangaDto]]]] GetAllManga(System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.MangaController (YAHALLO).
2024-04-02 00:45:53.623 +07:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE (([m].[IdUserDelete] IS NULL) OR ([m].[IdUserDelete] LIKE N'')) AND ([m].[DeleteDate] IS NULL)
2024-04-02 00:45:54.160 +07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[MangaId] = @__p_0
2024-04-02 00:45:54.462 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-04-02 00:45:54.576 +07:00 [WRN] Yahallo Long Running Request: GetAllMangaQuery (4384 milliseconds) 0c425578cf3545498bfe86ae001ad508 {"$type":"GetAllMangaQuery"}
2024-04-02 00:45:54.604 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[System.Collections.Generic.List`1[[YAHALLO.Application.Queries.MangaQuery.MangaDto, YAHALLO.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-04-02 00:45:54.628 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.MangaController.GetAllManga (YAHALLO) in 4759.4445ms
2024-04-02 00:45:54.631 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.MangaController.GetAllManga (YAHALLO)'
2024-04-02 00:45:54.632 +07:00 [INF] HTTP GET /manga/get-all responded 200 in 5243.1579 ms
2024-04-02 00:45:54.648 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/manga/get-all - - - 200 - application/json;+charset=utf-8 5261.6062ms
2024-04-02 00:48:38.991 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-02 00:48:39.870 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-02 00:48:39.871 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-02 00:48:39.873 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-02 00:48:39.874 +07:00 [INF] Hosting environment: Development
2024-04-02 00:48:39.875 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-02 00:48:42.453 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-02 00:48:42.959 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 287.5270 ms
2024-04-02 00:48:42.978 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 529.5581ms
2024-04-02 00:48:43.837 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-02 00:48:43.837 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-02 00:48:43.853 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 16.2990ms
2024-04-02 00:48:43.943 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 106.7482ms
2024-04-02 00:48:44.010 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - -
2024-04-02 00:48:44.873 +07:00 [INF] HTTP GET /swagger/v111/swagger.json responded 200 in 861.7198 ms
2024-04-02 00:48:44.876 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - - - 200 - application/json;charset=utf-8 866.0894ms
2024-04-02 00:49:41.180 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/user/create application/json 174
2024-04-02 00:49:41.195 +07:00 [INF] CORS policy execution successful.
2024-04-02 00:49:41.207 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.UserController.CreateUser (YAHALLO)'
2024-04-02 00:49:41.265 +07:00 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.String]]] CreateUser(YAHALLO.Application.Commands.UserCommand.Anynomous.Create.CreateUserCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.UserController (YAHALLO).
2024-04-02 00:49:46.780 +07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__request_Email_0='?' (Size = 450), @__request_UserName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0 OR [u].[UserName] = @__request_UserName_1
2024-04-02 00:49:47.185 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreateDate], [r].[DeleteDate], [r].[IdUserCreate], [r].[IdUserDelete], [r].[IdUserUpdate], [r].[RoleCode], [r].[RoleDescription], [r].[RoleName], [r].[UpdateDate]
FROM [Roles] AS [r]
WHERE [r].[RoleCode] = 2
2024-04-02 00:49:47.805 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (DbType = Boolean), @p6='?' (Size = 200), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 200), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 8000) (DbType = AnsiString), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 450), @p19='?' (Size = 450), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreateDate], [DeleteDate], [DisplayName], [Email], [EmailConfirm], [FirstName], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [LastName], [Level], [Password], [PhoneConfirmed], [PhoneNumber], [Status], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
INSERT INTO [UserRole] ([RoleId], [UserId], [CreateDate], [DeleteDate], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [UpdateDate])
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25);
2024-04-02 00:49:52.098 +07:00 [WRN] Yahallo Long Running Request: CreateUserCommand (10069 milliseconds)  {"FirstName":"Sơn","LastName":"Tùng","Email":"haileds9339@gmail.com","PhoneNumber":"0909307670","UserName":"lesonhai0339","Password":"Hai@119067","$type":"CreateUserCommand"}
2024-04-02 00:49:52.131 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-04-02 00:49:52.150 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.UserController.CreateUser (YAHALLO) in 10875.205ms
2024-04-02 00:49:52.154 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.UserController.CreateUser (YAHALLO)'
2024-04-02 00:49:52.158 +07:00 [INF] HTTP POST /user/create responded 200 in 10959.7941 ms
2024-04-02 00:49:52.182 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7181/user/create application/json 174 - 200 - application/json;+charset=utf-8 11002.5848ms
2024-04-02 00:52:40.018 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/services/confirm-email?token=FC5A0ACB92D8CA4DA04C2B3BA219A9C572C8B8D49B74C36E5D8E73D7912B2BCD&userid=d064837c6f9d4349877c06dd16083c94 - -
2024-04-02 00:52:40.075 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.ServicesController.ConfirmEmail (YAHALLO)'
2024-04-02 00:52:40.084 +07:00 [INF] Route matched with {action = "ConfirmEmail", controller = "Services"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.String]]] ConfirmEmail(System.String, System.String, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.ServicesController (YAHALLO).
2024-04-02 00:52:40.387 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_UserId_0 AND (([u].[IdUserDelete] IS NULL) OR ([u].[IdUserDelete] LIKE N'')) AND ([u].[DeleteDate] IS NULL)
2024-04-02 00:52:40.444 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p4='?' (DbType = Boolean), @p5='?' (Size = 200), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 200), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = AnsiString), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreateDate] = @p0, [DeleteDate] = @p1, [DisplayName] = @p2, [Email] = @p3, [EmailConfirm] = @p4, [FirstName] = @p5, [IdUserCreate] = @p6, [IdUserDelete] = @p7, [IdUserUpdate] = @p8, [LastName] = @p9, [Level] = @p10, [Password] = @p11, [PhoneConfirmed] = @p12, [PhoneNumber] = @p13, [Status] = @p14, [UpdateDate] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17;
2024-04-02 00:52:40.458 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-04-02 00:52:40.463 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.ServicesController.ConfirmEmail (YAHALLO) in 377.3192ms
2024-04-02 00:52:40.466 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.ServicesController.ConfirmEmail (YAHALLO)'
2024-04-02 00:52:40.468 +07:00 [INF] HTTP GET /services/confirm-email responded 200 in 394.3748 ms
2024-04-02 00:52:40.473 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/services/confirm-email?token=FC5A0ACB92D8CA4DA04C2B3BA219A9C572C8B8D49B74C36E5D8E73D7912B2BCD&userid=d064837c6f9d4349877c06dd16083c94 - - - 200 - application/json;+charset=utf-8 455.6349ms
2024-04-02 00:52:40.828 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/favicon.ico - -
2024-04-02 00:52:40.832 +07:00 [INF] HTTP GET /favicon.ico responded 404 in 1.5418 ms
2024-04-02 00:52:40.833 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/favicon.ico - - - 404 0 - 4.7879ms
2024-04-02 00:52:57.809 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/user/login application/json 60
2024-04-02 00:52:57.810 +07:00 [INF] CORS policy execution successful.
2024-04-02 00:52:57.815 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.UserController.Login (YAHALLO)'
2024-04-02 00:52:57.821 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[YAHALLO.Application.ResponeTypes.LoginRespone]]] Login(YAHALLO.Application.Commands.AuthenticationCommand.Login.LoginCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.UserController (YAHALLO).
2024-04-02 00:52:57.952 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__request_UserName_0
2024-04-02 00:52:58.016 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__checkUserExist_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessToken], [u].[CreateDate], [u].[DeleteDate], [u].[ExpiredRefeshToken], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[RefeshToken], [u].[UpdateDate]
FROM [UserToken] AS [u]
WHERE [u].[Id] = @__checkUserExist_Id_0
2024-04-02 00:52:58.077 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u].[CreateDate], [u].[DeleteDate], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[UpdateDate]
FROM [UserRole] AS [u]
WHERE [u].[UserId] = @__p_0
2024-04-02 00:52:58.099 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreateDate], [r].[DeleteDate], [r].[IdUserCreate], [r].[IdUserDelete], [r].[IdUserUpdate], [r].[RoleCode], [r].[RoleDescription], [r].[RoleName], [r].[UpdateDate]
FROM [Roles] AS [r]
WHERE [r].[Id] = @__p_0
2024-04-02 00:52:58.311 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserToken] ([Id], [AccessToken], [CreateDate], [DeleteDate], [ExpiredRefeshToken], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [RefeshToken], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-04-02 00:52:58.315 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[YAHALLO.Application.ResponeTypes.LoginRespone, YAHALLO.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-02 00:52:58.319 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.UserController.Login (YAHALLO) in 496.8909ms
2024-04-02 00:52:58.321 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.UserController.Login (YAHALLO)'
2024-04-02 00:52:58.322 +07:00 [INF] HTTP POST /user/login responded 200 in 510.8767 ms
2024-04-02 00:52:58.323 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7181/user/login application/json 60 - 200 - application/json;+charset=utf-8 514.4670ms
2024-04-02 00:53:20.571 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/manga/get-all - -
2024-04-02 00:53:20.672 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.MangaController.GetAllManga (YAHALLO)'
2024-04-02 00:53:20.676 +07:00 [INF] Route matched with {action = "GetAllManga", controller = "Manga"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.Collections.Generic.List`1[YAHALLO.Application.Queries.MangaQuery.MangaDto]]]] GetAllManga(System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.MangaController (YAHALLO).
2024-04-02 00:53:20.862 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE (([m].[IdUserDelete] IS NULL) OR ([m].[IdUserDelete] LIKE N'')) AND ([m].[DeleteDate] IS NULL)
2024-04-02 00:53:21.069 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[MangaId] = @__p_0
2024-04-02 00:53:21.127 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-04-02 00:53:21.133 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[System.Collections.Generic.List`1[[YAHALLO.Application.Queries.MangaQuery.MangaDto, YAHALLO.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-04-02 00:53:21.145 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.MangaController.GetAllManga (YAHALLO) in 468.0986ms
2024-04-02 00:53:21.148 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.MangaController.GetAllManga (YAHALLO)'
2024-04-02 00:53:21.150 +07:00 [INF] HTTP GET /manga/get-all responded 200 in 573.2633 ms
2024-04-02 00:53:21.152 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/manga/get-all - - - 200 - application/json;+charset=utf-8 581.3369ms
2024-04-02 00:53:36.310 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7181/manga/delete application/json 46
2024-04-02 00:53:36.316 +07:00 [INF] CORS policy execution successful.
2024-04-02 00:53:36.348 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.MangaController.Deletemanga (YAHALLO)'
2024-04-02 00:53:36.356 +07:00 [INF] Route matched with {action = "Deletemanga", controller = "Manga"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[YAHALLO.Domain.Common.Interfaces.ResponeResult]]] Deletemanga(YAHALLO.Application.Commands.MangaCommand.Delete.DeleteMangaCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.MangaController (YAHALLO).
2024-04-02 00:53:50.667 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__request_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE [m].[Id] = @__request_Id_0 AND (([m].[IdUserDelete] IS NULL) OR ([m].[IdUserDelete] LIKE N'')) AND ([m].[DeleteDate] IS NULL)
2024-04-02 00:53:55.620 +07:00 [ERR] Yahallo Request: Unhandled Exception for Request DeleteMangaCommand {"Id":"2e3e909a26544523b390f2efe14e70c4","$type":"DeleteMangaCommand"}
YAHALLO.Domain.Exceptions.NoPermissionsException: Tài khoản hiện tại không có quyền để xóa truyện này
   at YAHALLO.Application.Commands.MangaCommand.Delete.DeleteMangaCommandHandler.Handle(DeleteMangaCommand request, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\MangaCommand\Delete\DeleteMangaCommandHandler.cs:line 35
   at YAHALLO.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at YAHALLO.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\AuthorizationBehaviour.cs:line 79
   at YAHALLO.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\PerformanceBehaviour.cs:line 34
   at YAHALLO.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 25
2024-04-02 00:53:56.214 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.MangaController.Deletemanga (YAHALLO) in 19856.7288ms
2024-04-02 00:53:56.376 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.MangaController.Deletemanga (YAHALLO)'
2024-04-02 00:53:56.692 +07:00 [ERR] An unhandled exception has occurred while executing the request.
YAHALLO.Domain.Exceptions.NoPermissionsException: Tài khoản hiện tại không có quyền để xóa truyện này
   at YAHALLO.Application.Commands.MangaCommand.Delete.DeleteMangaCommandHandler.Handle(DeleteMangaCommand request, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\MangaCommand\Delete\DeleteMangaCommandHandler.cs:line 35
   at YAHALLO.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at YAHALLO.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\AuthorizationBehaviour.cs:line 79
   at YAHALLO.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\PerformanceBehaviour.cs:line 34
   at YAHALLO.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 25
   at YAHALLO.Controllers.Anonymous.MangaController.Deletemanga(DeleteMangaCommand command, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO\Controllers\Anonymous\MangaController.cs:line 47
   at lambda_method954(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ExceptionContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-04-02 00:53:56.735 +07:00 [ERR] HTTP DELETE /manga/delete responded 500 in 20390.0302 ms
2024-04-02 00:53:58.528 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7181/manga/delete application/json 46 - 500 - application/problem+json 22217.5287ms
2024-04-02 00:58:44.377 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-02 00:58:45.118 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-02 00:58:45.119 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-02 00:58:45.120 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-02 00:58:45.121 +07:00 [INF] Hosting environment: Development
2024-04-02 00:58:45.122 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-02 00:58:50.831 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-02 00:58:51.420 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 303.9380 ms
2024-04-02 00:58:51.432 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 610.3047ms
2024-04-02 00:58:51.603 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-02 00:58:51.605 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-02 00:58:51.642 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 37.0381ms
2024-04-02 00:58:51.708 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 105.7758ms
2024-04-02 00:58:51.766 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - -
2024-04-02 00:58:52.293 +07:00 [INF] HTTP GET /swagger/v111/swagger.json responded 200 in 525.3882 ms
2024-04-02 00:58:52.298 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - - - 200 - application/json;charset=utf-8 532.5159ms
2024-04-02 00:59:20.722 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-02 00:59:21.865 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-02 00:59:21.866 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-02 00:59:21.868 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-02 00:59:21.869 +07:00 [INF] Hosting environment: Development
2024-04-02 00:59:21.870 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-02 00:59:24.818 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-02 00:59:25.304 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 265.1611 ms
2024-04-02 00:59:25.333 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 520.6687ms
2024-04-02 00:59:25.402 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-02 00:59:25.404 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-02 00:59:25.432 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 30.0465ms
2024-04-02 00:59:25.520 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 116.1481ms
2024-04-02 00:59:25.583 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - -
2024-04-02 00:59:26.094 +07:00 [INF] HTTP GET /swagger/v111/swagger.json responded 200 in 505.9916 ms
2024-04-02 00:59:26.098 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - - - 200 - application/json;charset=utf-8 515.1386ms
2024-04-02 00:59:32.249 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/manga/get-all - -
2024-04-02 00:59:32.563 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.MangaController.GetAllManga (YAHALLO)'
2024-04-02 00:59:32.607 +07:00 [INF] Route matched with {action = "GetAllManga", controller = "Manga"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.Collections.Generic.List`1[YAHALLO.Application.Queries.MangaQuery.MangaDto]]]] GetAllManga(System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.MangaController (YAHALLO).
2024-04-02 00:59:36.114 +07:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE (([m].[IdUserDelete] IS NULL) OR ([m].[IdUserDelete] LIKE N'')) AND ([m].[DeleteDate] IS NULL)
2024-04-02 00:59:36.589 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[MangaId] = @__p_0
2024-04-02 00:59:36.768 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-04-02 00:59:36.863 +07:00 [WRN] Yahallo Long Running Request: GetAllMangaQuery (4058 milliseconds) d064837c6f9d4349877c06dd16083c94 {"$type":"GetAllMangaQuery"}
2024-04-02 00:59:36.884 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[System.Collections.Generic.List`1[[YAHALLO.Application.Queries.MangaQuery.MangaDto, YAHALLO.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-04-02 00:59:36.904 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.MangaController.GetAllManga (YAHALLO) in 4291.2583ms
2024-04-02 00:59:36.906 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.MangaController.GetAllManga (YAHALLO)'
2024-04-02 00:59:36.908 +07:00 [INF] HTTP GET /manga/get-all responded 200 in 4656.9340 ms
2024-04-02 00:59:36.918 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/manga/get-all - - - 200 - application/json;+charset=utf-8 4668.9982ms
2024-04-02 00:59:47.821 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7181/manga/delete application/json 46
2024-04-02 00:59:47.829 +07:00 [INF] CORS policy execution successful.
2024-04-02 00:59:47.847 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.MangaController.Deletemanga (YAHALLO)'
2024-04-02 00:59:47.869 +07:00 [INF] Route matched with {action = "Deletemanga", controller = "Manga"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[YAHALLO.Domain.Common.Interfaces.ResponeResult]]] Deletemanga(YAHALLO.Application.Commands.MangaCommand.Delete.DeleteMangaCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.MangaController (YAHALLO).
2024-04-02 00:59:48.152 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE [m].[Id] = @__request_Id_0 AND (([m].[IdUserDelete] IS NULL) OR ([m].[IdUserDelete] LIKE N'')) AND ([m].[DeleteDate] IS NULL)
2024-04-02 00:59:48.417 +07:00 [ERR] Yahallo Request: Unhandled Exception for Request DeleteMangaCommand {"Id":"2e3e909a26544523b390f2efe14e70c4","$type":"DeleteMangaCommand"}
YAHALLO.Domain.Exceptions.NotFoundException: Tài khoản hiện tại không có quyền để xóa truyện này
   at YAHALLO.Application.Commands.MangaCommand.Delete.DeleteMangaCommandHandler.Handle(DeleteMangaCommand request, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\MangaCommand\Delete\DeleteMangaCommandHandler.cs:line 35
   at YAHALLO.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at YAHALLO.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\AuthorizationBehaviour.cs:line 79
   at YAHALLO.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\PerformanceBehaviour.cs:line 34
   at YAHALLO.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 25
2024-04-02 00:59:48.986 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-04-02 00:59:48.991 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.MangaController.Deletemanga (YAHALLO) in 1118.2114ms
2024-04-02 00:59:48.992 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.MangaController.Deletemanga (YAHALLO)'
2024-04-02 00:59:48.992 +07:00 [INF] HTTP DELETE /manga/delete responded 404 in 1158.6655 ms
2024-04-02 00:59:48.994 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7181/manga/delete application/json 46 - 404 - application/problem+json;+charset=utf-8 1173.2236ms
2024-04-02 01:02:53.387 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-02 01:02:54.070 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-02 01:02:54.071 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-02 01:02:54.073 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-02 01:02:54.073 +07:00 [INF] Hosting environment: Development
2024-04-02 01:02:54.074 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-02 01:02:59.527 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-02 01:02:59.999 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 305.7200 ms
2024-04-02 01:03:00.082 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 556.7888ms
2024-04-02 01:03:00.085 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-02 01:03:00.094 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 8.7071ms
2024-04-02 01:03:00.104 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-02 01:03:00.230 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 126.2149ms
2024-04-02 01:03:00.290 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - -
2024-04-02 01:03:01.092 +07:00 [INF] HTTP GET /swagger/v111/swagger.json responded 200 in 800.6856 ms
2024-04-02 01:03:01.118 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - - - 200 - application/json;charset=utf-8 828.7624ms
2024-04-02 01:03:39.890 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/manga/get-all - -
2024-04-02 01:03:40.188 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.MangaController.GetAllManga (YAHALLO)'
2024-04-02 01:03:40.232 +07:00 [INF] Route matched with {action = "GetAllManga", controller = "Manga"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.Collections.Generic.List`1[YAHALLO.Application.Queries.MangaQuery.MangaDto]]]] GetAllManga(System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.MangaController (YAHALLO).
2024-04-02 01:03:43.781 +07:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE (([m].[IdUserDelete] IS NULL) OR ([m].[IdUserDelete] LIKE N'')) AND ([m].[DeleteDate] IS NULL)
2024-04-02 01:03:44.218 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[MangaId] = @__p_0
2024-04-02 01:03:44.422 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-04-02 01:03:44.528 +07:00 [WRN] Yahallo Long Running Request: GetAllMangaQuery (4130 milliseconds) d064837c6f9d4349877c06dd16083c94 {"$type":"GetAllMangaQuery"}
2024-04-02 01:03:44.556 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[System.Collections.Generic.List`1[[YAHALLO.Application.Queries.MangaQuery.MangaDto, YAHALLO.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-04-02 01:03:44.589 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.MangaController.GetAllManga (YAHALLO) in 4348.7358ms
2024-04-02 01:03:44.592 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.MangaController.GetAllManga (YAHALLO)'
2024-04-02 01:03:44.594 +07:00 [INF] HTTP GET /manga/get-all responded 200 in 4676.3739 ms
2024-04-02 01:03:44.615 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/manga/get-all - - - 200 - application/json;+charset=utf-8 4724.7485ms
2024-04-02 01:03:52.934 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7181/manga/delete application/json 46
2024-04-02 01:03:52.940 +07:00 [INF] CORS policy execution successful.
2024-04-02 01:03:52.957 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.MangaController.Deletemanga (YAHALLO)'
2024-04-02 01:03:52.966 +07:00 [INF] Route matched with {action = "Deletemanga", controller = "Manga"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[YAHALLO.Domain.Common.Interfaces.ResponeResult]]] Deletemanga(YAHALLO.Application.Commands.MangaCommand.Delete.DeleteMangaCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.MangaController (YAHALLO).
2024-04-02 01:04:45.742 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE [m].[Id] = @__request_Id_0 AND (([m].[IdUserDelete] IS NULL) OR ([m].[IdUserDelete] LIKE N'')) AND ([m].[DeleteDate] IS NULL)
2024-04-02 01:04:46.046 +07:00 [ERR] Yahallo Request: Unhandled Exception for Request DeleteMangaCommand {"Id":"2e3e909a26544523b390f2efe14e70c4","$type":"DeleteMangaCommand"}
YAHALLO.Domain.Exceptions.AccessDeniedException: Tài khoản hiện tại không có quyền để xóa truyện này
   at YAHALLO.Application.Commands.MangaCommand.Delete.DeleteMangaCommandHandler.Handle(DeleteMangaCommand request, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\MangaCommand\Delete\DeleteMangaCommandHandler.cs:line 35
   at YAHALLO.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at YAHALLO.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\AuthorizationBehaviour.cs:line 79
   at YAHALLO.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\PerformanceBehaviour.cs:line 34
   at YAHALLO.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 25
2024-04-02 01:04:46.701 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.MangaController.Deletemanga (YAHALLO) in 53733.6004ms
2024-04-02 01:04:46.901 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.MangaController.Deletemanga (YAHALLO)'
2024-04-02 01:04:47.166 +07:00 [ERR] An unhandled exception has occurred while executing the request.
YAHALLO.Domain.Exceptions.AccessDeniedException: Tài khoản hiện tại không có quyền để xóa truyện này
   at YAHALLO.Application.Commands.MangaCommand.Delete.DeleteMangaCommandHandler.Handle(DeleteMangaCommand request, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\MangaCommand\Delete\DeleteMangaCommandHandler.cs:line 35
   at YAHALLO.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at YAHALLO.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\AuthorizationBehaviour.cs:line 79
   at YAHALLO.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\PerformanceBehaviour.cs:line 34
   at YAHALLO.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 25
   at YAHALLO.Controllers.Anonymous.MangaController.Deletemanga(DeleteMangaCommand command, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO\Controllers\Anonymous\MangaController.cs:line 47
   at lambda_method502(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ExceptionContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-04-02 01:04:47.211 +07:00 [ERR] HTTP DELETE /manga/delete responded 500 in 54269.1466 ms
2024-04-02 01:04:47.214 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7181/manga/delete application/json 46 - 500 - application/problem+json 54279.3453ms
