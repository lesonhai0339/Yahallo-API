2024-07-27 09:02:27.262 +07:00 [WRN] There are multiple relationships between 'MetadataEntity' and 'BlogEntity' without configured foreign key properties. This will cause Entity Framework to create shadow properties on 'MetadataEntity' with names dependent on the discovery order. Consider configuring the foreign key properties using the [ForeignKey] attribute or in 'OnModelCreating'.
2024-07-27 10:49:22.688 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 10:49:23.961 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 10:52:51.766 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 10:52:52.629 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 10:53:24.976 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 10:54:13.588 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 10:58:25.026 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 10:58:26.456 +07:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-27 10:58:26.644 +07:00 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-27 10:58:26.797 +07:00 [INF] Executed DbCommand (152ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-27 10:58:26.950 +07:00 [INF] Executed DbCommand (152ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-27 10:58:27.103 +07:00 [INF] Executed DbCommand (138ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-07-27 10:58:27.120 +07:00 [INF] Applying migration '20240720064704_v3'.
2024-07-27 10:58:27.412 +07:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] DROP CONSTRAINT [FK_Comment_Users_UserReplyId];
2024-07-27 10:58:27.518 +07:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Comment_UserReplyId] ON [Comment];
2024-07-27 10:58:27.727 +07:00 [INF] Executed DbCommand (209ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Comment]') AND [c].[name] = N'UserReplyId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Comment] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Comment] DROP COLUMN [UserReplyId];
2024-07-27 10:58:28.226 +07:00 [INF] Executed DbCommand (498ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Comment].[Data]', N'Message', N'COLUMN';
2024-07-27 10:58:28.300 +07:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [MangaSeason] ADD [Description] nvarchar(max) NULL;
2024-07-27 10:58:28.364 +07:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [MangaSeason] ADD [Season] float NOT NULL DEFAULT 0.0E0;
2024-07-27 10:58:28.441 +07:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD [CanComment] bit NOT NULL DEFAULT CAST(0 AS bit);
2024-07-27 10:58:28.519 +07:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD [CanHide] bit NOT NULL DEFAULT CAST(0 AS bit);
2024-07-27 10:58:28.603 +07:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD [CanLike] bit NOT NULL DEFAULT CAST(0 AS bit);
2024-07-27 10:58:28.856 +07:00 [INF] Executed DbCommand (253ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD [CanRemove] bit NOT NULL DEFAULT CAST(0 AS bit);
2024-07-27 10:58:28.921 +07:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD [CanReply] bit NOT NULL DEFAULT CAST(0 AS bit);
2024-07-27 10:58:28.984 +07:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD [CommentCount] int NOT NULL DEFAULT 0;
2024-07-27 10:58:29.044 +07:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD [DisLikeCount] int NOT NULL DEFAULT 0;
2024-07-27 10:58:29.104 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD [LikeCount] int NOT NULL DEFAULT 0;
2024-07-27 10:58:29.164 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD [ParentId] nvarchar(max) NULL;
2024-07-27 10:58:29.224 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD [UserEntityId] nvarchar(450) NULL;
2024-07-27 10:58:29.295 +07:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [CommentAttechment] (
    [Id] nvarchar(450) NOT NULL,
    [Description] nvarchar(max) NULL,
    [MediaType] int NULL,
    [Title] nvarchar(max) NULL,
    [Url1] nvarchar(max) NULL,
    [Url2] nvarchar(max) NULL,
    [Url3] nvarchar(max) NULL,
    [ParentId] nvarchar(450) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_CommentAttechment] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_CommentAttechment_Comment_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Comment] ([Id]) ON DELETE CASCADE
);
2024-07-27 10:58:29.353 +07:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comment_UserEntityId] ON [Comment] ([UserEntityId]);
2024-07-27 10:58:29.427 +07:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_CommentAttechment_ParentId] ON [CommentAttechment] ([ParentId]);
2024-07-27 10:58:29.508 +07:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD CONSTRAINT [FK_Comment_Users_UserEntityId] FOREIGN KEY ([UserEntityId]) REFERENCES [Users] ([Id]);
2024-07-27 10:58:29.602 +07:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240720064704_v3', N'7.0.0');
2024-07-27 10:58:29.703 +07:00 [INF] Applying migration '20240727035253_v4'.
2024-07-27 10:58:29.973 +07:00 [ERR] Failed executing DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Counting] ADD [UserVisit] nvarchar(max) NULL;
2024-07-27 10:59:36.223 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 10:59:37.169 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 10:59:47.134 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 10:59:48.723 +07:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-27 10:59:48.819 +07:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-27 10:59:48.890 +07:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-27 10:59:48.969 +07:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-27 10:59:49.061 +07:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-07-27 10:59:49.074 +07:00 [INF] Applying migration '20240727035937_v4'.
2024-07-27 10:59:49.408 +07:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240727035937_v4', N'7.0.0');
2024-07-27 11:00:38.345 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 11:00:39.231 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-27 11:00:39.255 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-27 11:00:39.257 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-27 11:00:39.258 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-27 11:00:39.273 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-07-27 11:00:39.287 +07:00 [INF] Applying migration '20240720064704_v3'.
2024-07-27 11:00:39.552 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] DROP CONSTRAINT [FK_Comment_Users_UserReplyId];
2024-07-27 11:00:39.555 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Comment_UserReplyId] ON [Comment];
2024-07-27 11:00:39.583 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Comment]') AND [c].[name] = N'UserReplyId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Comment] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Comment] DROP COLUMN [UserReplyId];
2024-07-27 11:00:39.814 +07:00 [INF] Executed DbCommand (231ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Comment].[Data]', N'Message', N'COLUMN';
2024-07-27 11:00:39.816 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [MangaSeason] ADD [Description] nvarchar(max) NULL;
2024-07-27 11:00:39.817 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [MangaSeason] ADD [Season] float NOT NULL DEFAULT 0.0E0;
2024-07-27 11:00:39.818 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD [CanComment] bit NOT NULL DEFAULT CAST(0 AS bit);
2024-07-27 11:00:39.820 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD [CanHide] bit NOT NULL DEFAULT CAST(0 AS bit);
2024-07-27 11:00:39.821 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD [CanLike] bit NOT NULL DEFAULT CAST(0 AS bit);
2024-07-27 11:00:39.821 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD [CanRemove] bit NOT NULL DEFAULT CAST(0 AS bit);
2024-07-27 11:00:39.822 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD [CanReply] bit NOT NULL DEFAULT CAST(0 AS bit);
2024-07-27 11:00:39.823 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD [CommentCount] int NOT NULL DEFAULT 0;
2024-07-27 11:00:39.824 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD [DisLikeCount] int NOT NULL DEFAULT 0;
2024-07-27 11:00:39.825 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD [LikeCount] int NOT NULL DEFAULT 0;
2024-07-27 11:00:39.826 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD [ParentId] nvarchar(max) NULL;
2024-07-27 11:00:39.827 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD [UserEntityId] nvarchar(450) NULL;
2024-07-27 11:00:39.829 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [CommentAttechment] (
    [Id] nvarchar(450) NOT NULL,
    [Description] nvarchar(max) NULL,
    [MediaType] int NULL,
    [Title] nvarchar(max) NULL,
    [Url1] nvarchar(max) NULL,
    [Url2] nvarchar(max) NULL,
    [Url3] nvarchar(max) NULL,
    [ParentId] nvarchar(450) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_CommentAttechment] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_CommentAttechment_Comment_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [Comment] ([Id]) ON DELETE CASCADE
);
2024-07-27 11:00:39.830 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comment_UserEntityId] ON [Comment] ([UserEntityId]);
2024-07-27 11:00:39.831 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_CommentAttechment_ParentId] ON [CommentAttechment] ([ParentId]);
2024-07-27 11:00:39.832 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comment] ADD CONSTRAINT [FK_Comment_Users_UserEntityId] FOREIGN KEY ([UserEntityId]) REFERENCES [Users] ([Id]);
2024-07-27 11:00:39.834 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240720064704_v3', N'7.0.0');
2024-07-27 11:00:39.840 +07:00 [INF] Applying migration '20240727035937_v4'.
2024-07-27 11:00:39.990 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240727035937_v4', N'7.0.0');
2024-07-27 11:02:44.291 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 11:02:45.129 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 11:03:10.893 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 11:03:11.619 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-27 11:03:11.642 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-27 11:03:11.644 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-27 11:03:11.645 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-27 11:03:11.663 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-07-27 11:03:11.679 +07:00 [INF] Applying migration '20240727040245_v4_1'.
2024-07-27 11:03:11.906 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240727040245_v4_1', N'7.0.0');
2024-07-27 11:04:50.526 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 11:04:51.309 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 11:05:21.361 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 11:05:22.685 +07:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-27 11:05:22.796 +07:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-27 11:05:22.863 +07:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-27 11:05:22.939 +07:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-27 11:05:23.037 +07:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-07-27 11:05:23.054 +07:00 [INF] Applying migration '20240727040451_v4'.
2024-07-27 11:05:23.659 +07:00 [ERR] Failed executing DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Artist] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(255) NOT NULL,
    [Countries] int NOT NULL,
    [Depscription] nvarchar(max) NOT NULL,
    [Birth] datetime2 NOT NULL,
    [LifeStatus] int NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Artist] PRIMARY KEY ([Id])
);
2024-07-27 11:07:14.938 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 11:07:16.317 +07:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-27 11:07:16.410 +07:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-27 11:07:16.483 +07:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-27 11:07:16.568 +07:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-27 11:07:16.668 +07:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-07-27 11:07:16.682 +07:00 [INF] Applying migration '20240727040451_v4'.
2024-07-27 11:07:17.049 +07:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Blogs] (
    [Id] nvarchar(450) NOT NULL,
    [ParentId] nvarchar(max) NULL,
    [Title] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Content] nvarchar(max) NOT NULL,
    [Like] int NOT NULL,
    [DisLike] int NOT NULL,
    [Status] int NOT NULL,
    [Type] int NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Blogs] PRIMARY KEY ([Id])
);
2024-07-27 11:07:17.129 +07:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Threads] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Threads] PRIMARY KEY ([Id])
);
2024-07-27 11:07:17.212 +07:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ThreadOfBlog] (
    [BlogId] nvarchar(450) NOT NULL,
    [ThreadId] nvarchar(450) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_ThreadOfBlog] PRIMARY KEY ([ThreadId], [BlogId]),
    CONSTRAINT [FK_ThreadOfBlog_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_ThreadOfBlog_Threads_ThreadId] FOREIGN KEY ([ThreadId]) REFERENCES [Threads] ([Id]) ON DELETE NO ACTION
);
2024-07-27 11:07:17.290 +07:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OldPassword] (
    [UserId] nvarchar(450) NOT NULL,
    [OldPasswords] nvarchar(max) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_OldPassword] PRIMARY KEY ([UserId]),
    CONSTRAINT [FK_OldPassword_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-07-27 11:07:17.362 +07:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Reaction] (
    [UserId] nvarchar(450) NOT NULL,
    [BlogId] nvarchar(450) NOT NULL,
    [IsLike] bit NOT NULL,
    [IsDisLike] bit NOT NULL,
    [VisitCount] int NOT NULL,
    [IsSaved] bit NOT NULL,
    [Rating] real NOT NULL,
    [IsRecommend] bit NOT NULL,
    [IsFavorite] bit NOT NULL,
    [Note] nvarchar(max) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Reaction] PRIMARY KEY ([UserId], [BlogId]),
    CONSTRAINT [FK_Reaction_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Reaction_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2024-07-27 11:07:17.449 +07:00 [ERR] Failed executing DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Comment] (
    [Id] nvarchar(450) NOT NULL,
    [CanComment] bit NOT NULL,
    [CanRemove] bit NOT NULL,
    [CanHide] bit NOT NULL,
    [CanLike] bit NOT NULL,
    [CanReply] bit NOT NULL,
    [CommentCount] int NOT NULL,
    [LikeCount] int NOT NULL,
    [DisLikeCount] int NOT NULL,
    [Message] nvarchar(max) NULL,
    [CommentType] int NOT NULL,
    [UserId] nvarchar(450) NOT NULL,
    [MangaId] nvarchar(450) NULL,
    [ChapterId] nvarchar(450) NULL,
    [BlogId] nvarchar(450) NULL,
    [ParentId] nvarchar(max) NULL,
    [UserEntityId] nvarchar(450) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Comment] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Comment_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Comment_Chapter_ChapterId] FOREIGN KEY ([ChapterId]) REFERENCES [Chapter] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Comment_Manga_MangaId] FOREIGN KEY ([MangaId]) REFERENCES [Manga] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Comment_Users_UserEntityId] FOREIGN KEY ([UserEntityId]) REFERENCES [Users] ([Id]),
    CONSTRAINT [FK_Comment_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2024-07-27 11:10:41.160 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 11:10:42.581 +07:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-27 11:10:42.682 +07:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-27 11:10:42.756 +07:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-27 11:10:42.823 +07:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-27 11:10:42.913 +07:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-07-27 11:10:42.928 +07:00 [INF] Applying migration '20240727040451_v4'.
2024-07-27 11:10:43.286 +07:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Blogs] (
    [Id] nvarchar(450) NOT NULL,
    [ParentId] nvarchar(max) NULL,
    [Title] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Content] nvarchar(max) NOT NULL,
    [Like] int NOT NULL,
    [DisLike] int NOT NULL,
    [Status] int NOT NULL,
    [Type] int NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Blogs] PRIMARY KEY ([Id])
);
2024-07-27 11:10:43.373 +07:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Threads] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Threads] PRIMARY KEY ([Id])
);
2024-07-27 11:10:43.447 +07:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ThreadOfBlog] (
    [BlogId] nvarchar(450) NOT NULL,
    [ThreadId] nvarchar(450) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_ThreadOfBlog] PRIMARY KEY ([ThreadId], [BlogId]),
    CONSTRAINT [FK_ThreadOfBlog_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_ThreadOfBlog_Threads_ThreadId] FOREIGN KEY ([ThreadId]) REFERENCES [Threads] ([Id]) ON DELETE NO ACTION
);
2024-07-27 11:10:43.514 +07:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OldPassword] (
    [UserId] nvarchar(450) NOT NULL,
    [OldPasswords] nvarchar(max) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_OldPassword] PRIMARY KEY ([UserId]),
    CONSTRAINT [FK_OldPassword_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-07-27 11:10:43.602 +07:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Reaction] (
    [UserId] nvarchar(450) NOT NULL,
    [BlogId] nvarchar(450) NOT NULL,
    [IsLike] bit NOT NULL,
    [IsDisLike] bit NOT NULL,
    [VisitCount] int NOT NULL,
    [IsSaved] bit NOT NULL,
    [Rating] real NOT NULL,
    [IsRecommend] bit NOT NULL,
    [IsFavorite] bit NOT NULL,
    [Note] nvarchar(max) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Reaction] PRIMARY KEY ([UserId], [BlogId]),
    CONSTRAINT [FK_Reaction_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Reaction_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2024-07-27 11:10:43.692 +07:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Comment] (
    [Id] nvarchar(450) NOT NULL,
    [CanComment] bit NOT NULL,
    [CanRemove] bit NOT NULL,
    [CanHide] bit NOT NULL,
    [CanLike] bit NOT NULL,
    [CanReply] bit NOT NULL,
    [CommentCount] int NOT NULL,
    [LikeCount] int NOT NULL,
    [DisLikeCount] int NOT NULL,
    [Message] nvarchar(max) NULL,
    [CommentType] int NOT NULL,
    [UserId] nvarchar(450) NOT NULL,
    [MangaId] nvarchar(450) NULL,
    [ChapterId] nvarchar(450) NULL,
    [BlogId] nvarchar(450) NULL,
    [ParentId] nvarchar(max) NULL,
    [UserEntityId] nvarchar(450) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Comment] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Comment_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Comment_Chapter_ChapterId] FOREIGN KEY ([ChapterId]) REFERENCES [Chapter] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Comment_Manga_MangaId] FOREIGN KEY ([MangaId]) REFERENCES [Manga] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Comment_Users_UserEntityId] FOREIGN KEY ([UserEntityId]) REFERENCES [Users] ([Id]),
    CONSTRAINT [FK_Comment_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2024-07-27 11:10:43.766 +07:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Attechment] (
    [Id] nvarchar(450) NOT NULL,
    [Description] nvarchar(max) NULL,
    [MediaType] int NULL,
    [Title] nvarchar(max) NULL,
    [Url1] nvarchar(max) NULL,
    [Url2] nvarchar(max) NULL,
    [Url3] nvarchar(max) NULL,
    [CommentId] nvarchar(450) NULL,
    [BlogId] nvarchar(450) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Attechment] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Attechment_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Attechment_Comment_CommentId] FOREIGN KEY ([CommentId]) REFERENCES [Comment] ([Id]) ON DELETE NO ACTION
);
2024-07-27 11:10:43.849 +07:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Counting] (
    [ParentId] nvarchar(450) NOT NULL,
    [Type] int NOT NULL,
    [ViewCount] int NOT NULL,
    [Rating] real NOT NULL,
    [NumberOfVisit] int NOT NULL,
    [Description] nvarchar(max) NULL,
    [UserVisit] nvarchar(max) NULL,
    [MangaId] nvarchar(450) NULL,
    [ChapterId] nvarchar(450) NULL,
    [CommentId] nvarchar(450) NULL,
    [BlogId] nvarchar(450) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Counting] PRIMARY KEY ([ParentId]),
    CONSTRAINT [FK_Counting_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Counting_Chapter_ChapterId] FOREIGN KEY ([ChapterId]) REFERENCES [Chapter] ([Id]),
    CONSTRAINT [FK_Counting_Comment_CommentId] FOREIGN KEY ([CommentId]) REFERENCES [Comment] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Counting_Manga_MangaId] FOREIGN KEY ([MangaId]) REFERENCES [Manga] ([Id]) ON DELETE CASCADE
);
2024-07-27 11:10:45.379 +07:00 [ERR] Failed executing DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AssociateName_MangaId] ON [AssociateName] ([MangaId]);
2024-07-27 11:13:07.436 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 11:13:08.846 +07:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-27 11:13:08.930 +07:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-27 11:13:09.002 +07:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-27 11:13:09.072 +07:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-27 11:13:09.152 +07:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-07-27 11:13:09.168 +07:00 [INF] Applying migration '20240727040451_v4'.
2024-07-27 11:13:09.532 +07:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Blogs] (
    [Id] nvarchar(450) NOT NULL,
    [ParentId] nvarchar(max) NULL,
    [Title] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Content] nvarchar(max) NOT NULL,
    [Like] int NOT NULL,
    [DisLike] int NOT NULL,
    [Status] int NOT NULL,
    [Type] int NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Blogs] PRIMARY KEY ([Id])
);
2024-07-27 11:13:09.611 +07:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Threads] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Threads] PRIMARY KEY ([Id])
);
2024-07-27 11:13:09.683 +07:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ThreadOfBlog] (
    [BlogId] nvarchar(450) NOT NULL,
    [ThreadId] nvarchar(450) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_ThreadOfBlog] PRIMARY KEY ([ThreadId], [BlogId]),
    CONSTRAINT [FK_ThreadOfBlog_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_ThreadOfBlog_Threads_ThreadId] FOREIGN KEY ([ThreadId]) REFERENCES [Threads] ([Id]) ON DELETE NO ACTION
);
2024-07-27 11:13:09.774 +07:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OldPassword] (
    [UserId] nvarchar(450) NOT NULL,
    [OldPasswords] nvarchar(max) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_OldPassword] PRIMARY KEY ([UserId]),
    CONSTRAINT [FK_OldPassword_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-07-27 11:13:09.849 +07:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Reaction] (
    [UserId] nvarchar(450) NOT NULL,
    [BlogId] nvarchar(450) NOT NULL,
    [IsLike] bit NOT NULL,
    [IsDisLike] bit NOT NULL,
    [VisitCount] int NOT NULL,
    [IsSaved] bit NOT NULL,
    [Rating] real NOT NULL,
    [IsRecommend] bit NOT NULL,
    [IsFavorite] bit NOT NULL,
    [Note] nvarchar(max) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Reaction] PRIMARY KEY ([UserId], [BlogId]),
    CONSTRAINT [FK_Reaction_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Reaction_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2024-07-27 11:13:09.931 +07:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Comment] (
    [Id] nvarchar(450) NOT NULL,
    [CanComment] bit NOT NULL,
    [CanRemove] bit NOT NULL,
    [CanHide] bit NOT NULL,
    [CanLike] bit NOT NULL,
    [CanReply] bit NOT NULL,
    [CommentCount] int NOT NULL,
    [LikeCount] int NOT NULL,
    [DisLikeCount] int NOT NULL,
    [Message] nvarchar(max) NULL,
    [CommentType] int NOT NULL,
    [UserId] nvarchar(450) NOT NULL,
    [MangaId] nvarchar(450) NULL,
    [ChapterId] nvarchar(450) NULL,
    [BlogId] nvarchar(450) NULL,
    [ParentId] nvarchar(max) NULL,
    [UserEntityId] nvarchar(450) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Comment] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Comment_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Comment_Chapter_ChapterId] FOREIGN KEY ([ChapterId]) REFERENCES [Chapter] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Comment_Manga_MangaId] FOREIGN KEY ([MangaId]) REFERENCES [Manga] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Comment_Users_UserEntityId] FOREIGN KEY ([UserEntityId]) REFERENCES [Users] ([Id]),
    CONSTRAINT [FK_Comment_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2024-07-27 11:13:10.012 +07:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Attechment] (
    [Id] nvarchar(450) NOT NULL,
    [Description] nvarchar(max) NULL,
    [MediaType] int NULL,
    [Title] nvarchar(max) NULL,
    [Url1] nvarchar(max) NULL,
    [Url2] nvarchar(max) NULL,
    [Url3] nvarchar(max) NULL,
    [CommentId] nvarchar(450) NULL,
    [BlogId] nvarchar(450) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Attechment] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Attechment_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Attechment_Comment_CommentId] FOREIGN KEY ([CommentId]) REFERENCES [Comment] ([Id]) ON DELETE NO ACTION
);
2024-07-27 11:13:10.615 +07:00 [INF] Executed DbCommand (98ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Counting] (
    [ParentId] nvarchar(450) NOT NULL,
    [Type] int NOT NULL,
    [ViewCount] int NOT NULL,
    [Rating] real NOT NULL,
    [NumberOfVisit] int NOT NULL,
    [Description] nvarchar(max) NULL,
    [UserVisit] nvarchar(max) NULL,
    [MangaId] nvarchar(450) NULL,
    [ChapterId] nvarchar(450) NULL,
    [CommentId] nvarchar(450) NULL,
    [BlogId] nvarchar(450) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Counting] PRIMARY KEY ([ParentId]),
    CONSTRAINT [FK_Counting_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Counting_Chapter_ChapterId] FOREIGN KEY ([ChapterId]) REFERENCES [Chapter] ([Id]),
    CONSTRAINT [FK_Counting_Comment_CommentId] FOREIGN KEY ([CommentId]) REFERENCES [Comment] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Counting_Manga_MangaId] FOREIGN KEY ([MangaId]) REFERENCES [Manga] ([Id]) ON DELETE CASCADE
);
2024-07-27 11:13:10.683 +07:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Attechment_BlogId] ON [Attechment] ([BlogId]);
2024-07-27 11:13:10.754 +07:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Attechment_CommentId] ON [Attechment] ([CommentId]);
2024-07-27 11:13:10.824 +07:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comment_BlogId] ON [Comment] ([BlogId]);
2024-07-27 11:13:10.893 +07:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comment_ChapterId] ON [Comment] ([ChapterId]);
2024-07-27 11:13:10.953 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comment_MangaId] ON [Comment] ([MangaId]);
2024-07-27 11:13:11.021 +07:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comment_UserEntityId] ON [Comment] ([UserEntityId]);
2024-07-27 11:13:11.084 +07:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comment_UserId] ON [Comment] ([UserId]);
2024-07-27 11:13:11.150 +07:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Counting_BlogId] ON [Counting] ([BlogId]) WHERE [BlogId] IS NOT NULL;
2024-07-27 11:13:11.228 +07:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Counting_ChapterId] ON [Counting] ([ChapterId]) WHERE [ChapterId] IS NOT NULL;
2024-07-27 11:13:11.300 +07:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Counting_CommentId] ON [Counting] ([CommentId]) WHERE [CommentId] IS NOT NULL;
2024-07-27 11:13:11.364 +07:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Counting_MangaId] ON [Counting] ([MangaId]) WHERE [MangaId] IS NOT NULL;
2024-07-27 11:13:11.423 +07:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reaction_BlogId] ON [Reaction] ([BlogId]);
2024-07-27 11:13:11.483 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ThreadOfBlog_BlogId] ON [ThreadOfBlog] ([BlogId]);
2024-07-27 11:13:14.346 +07:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240727040451_v4', N'7.0.0');
2024-07-27 11:13:34.551 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 11:13:35.280 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-27 11:13:35.305 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-27 11:13:35.307 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-27 11:13:35.308 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-27 11:13:35.321 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-07-27 11:13:35.334 +07:00 [INF] Applying migration '20240727040451_v4'.
2024-07-27 11:13:35.573 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Blogs] (
    [Id] nvarchar(450) NOT NULL,
    [ParentId] nvarchar(max) NULL,
    [Title] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Content] nvarchar(max) NOT NULL,
    [Like] int NOT NULL,
    [DisLike] int NOT NULL,
    [Status] int NOT NULL,
    [Type] int NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Blogs] PRIMARY KEY ([Id])
);
2024-07-27 11:13:35.576 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Threads] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Threads] PRIMARY KEY ([Id])
);
2024-07-27 11:13:35.579 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ThreadOfBlog] (
    [BlogId] nvarchar(450) NOT NULL,
    [ThreadId] nvarchar(450) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_ThreadOfBlog] PRIMARY KEY ([ThreadId], [BlogId]),
    CONSTRAINT [FK_ThreadOfBlog_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_ThreadOfBlog_Threads_ThreadId] FOREIGN KEY ([ThreadId]) REFERENCES [Threads] ([Id]) ON DELETE NO ACTION
);
2024-07-27 11:13:35.581 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OldPassword] (
    [UserId] nvarchar(450) NOT NULL,
    [OldPasswords] nvarchar(max) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_OldPassword] PRIMARY KEY ([UserId]),
    CONSTRAINT [FK_OldPassword_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-07-27 11:13:35.583 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Reaction] (
    [UserId] nvarchar(450) NOT NULL,
    [BlogId] nvarchar(450) NOT NULL,
    [IsLike] bit NOT NULL,
    [IsDisLike] bit NOT NULL,
    [VisitCount] int NOT NULL,
    [IsSaved] bit NOT NULL,
    [Rating] real NOT NULL,
    [IsRecommend] bit NOT NULL,
    [IsFavorite] bit NOT NULL,
    [Note] nvarchar(max) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Reaction] PRIMARY KEY ([UserId], [BlogId]),
    CONSTRAINT [FK_Reaction_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Reaction_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2024-07-27 11:13:35.589 +07:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Comment] (
    [Id] nvarchar(450) NOT NULL,
    [CanComment] bit NOT NULL,
    [CanRemove] bit NOT NULL,
    [CanHide] bit NOT NULL,
    [CanLike] bit NOT NULL,
    [CanReply] bit NOT NULL,
    [CommentCount] int NOT NULL,
    [LikeCount] int NOT NULL,
    [DisLikeCount] int NOT NULL,
    [Message] nvarchar(max) NULL,
    [CommentType] int NOT NULL,
    [UserId] nvarchar(450) NOT NULL,
    [MangaId] nvarchar(450) NULL,
    [ChapterId] nvarchar(450) NULL,
    [BlogId] nvarchar(450) NULL,
    [ParentId] nvarchar(max) NULL,
    [UserEntityId] nvarchar(450) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Comment] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Comment_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Comment_Chapter_ChapterId] FOREIGN KEY ([ChapterId]) REFERENCES [Chapter] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Comment_Manga_MangaId] FOREIGN KEY ([MangaId]) REFERENCES [Manga] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Comment_Users_UserEntityId] FOREIGN KEY ([UserEntityId]) REFERENCES [Users] ([Id]),
    CONSTRAINT [FK_Comment_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2024-07-27 11:14:02.756 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 11:14:03.611 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-27 11:14:03.634 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-27 11:14:03.637 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-27 11:14:03.638 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-27 11:14:03.650 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-07-27 11:14:03.662 +07:00 [INF] Applying migration '20240727040451_v4'.
2024-07-27 11:14:03.886 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Blogs] (
    [Id] nvarchar(450) NOT NULL,
    [ParentId] nvarchar(max) NULL,
    [Title] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Content] nvarchar(max) NOT NULL,
    [Like] int NOT NULL,
    [DisLike] int NOT NULL,
    [Status] int NOT NULL,
    [Type] int NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Blogs] PRIMARY KEY ([Id])
);
2024-07-27 11:14:03.889 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Threads] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Threads] PRIMARY KEY ([Id])
);
2024-07-27 11:14:03.891 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ThreadOfBlog] (
    [BlogId] nvarchar(450) NOT NULL,
    [ThreadId] nvarchar(450) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_ThreadOfBlog] PRIMARY KEY ([ThreadId], [BlogId]),
    CONSTRAINT [FK_ThreadOfBlog_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_ThreadOfBlog_Threads_ThreadId] FOREIGN KEY ([ThreadId]) REFERENCES [Threads] ([Id]) ON DELETE NO ACTION
);
2024-07-27 11:14:03.893 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OldPassword] (
    [UserId] nvarchar(450) NOT NULL,
    [OldPasswords] nvarchar(max) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_OldPassword] PRIMARY KEY ([UserId]),
    CONSTRAINT [FK_OldPassword_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-07-27 11:14:03.895 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Reaction] (
    [UserId] nvarchar(450) NOT NULL,
    [BlogId] nvarchar(450) NOT NULL,
    [IsLike] bit NOT NULL,
    [IsDisLike] bit NOT NULL,
    [VisitCount] int NOT NULL,
    [IsSaved] bit NOT NULL,
    [Rating] real NOT NULL,
    [IsRecommend] bit NOT NULL,
    [IsFavorite] bit NOT NULL,
    [Note] nvarchar(max) NOT NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Reaction] PRIMARY KEY ([UserId], [BlogId]),
    CONSTRAINT [FK_Reaction_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Reaction_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2024-07-27 11:14:03.898 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Comment] (
    [Id] nvarchar(450) NOT NULL,
    [CanComment] bit NOT NULL,
    [CanRemove] bit NOT NULL,
    [CanHide] bit NOT NULL,
    [CanLike] bit NOT NULL,
    [CanReply] bit NOT NULL,
    [CommentCount] int NOT NULL,
    [LikeCount] int NOT NULL,
    [DisLikeCount] int NOT NULL,
    [Message] nvarchar(max) NULL,
    [CommentType] int NOT NULL,
    [UserId] nvarchar(450) NOT NULL,
    [MangaId] nvarchar(450) NULL,
    [ChapterId] nvarchar(450) NULL,
    [BlogId] nvarchar(450) NULL,
    [ParentId] nvarchar(max) NULL,
    [UserEntityId] nvarchar(450) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Comment] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Comment_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Comment_Chapter_ChapterId] FOREIGN KEY ([ChapterId]) REFERENCES [Chapter] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Comment_Manga_MangaId] FOREIGN KEY ([MangaId]) REFERENCES [Manga] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Comment_Users_UserEntityId] FOREIGN KEY ([UserEntityId]) REFERENCES [Users] ([Id]),
    CONSTRAINT [FK_Comment_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2024-07-27 11:14:04.031 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Attechment] (
    [Id] nvarchar(450) NOT NULL,
    [Description] nvarchar(max) NULL,
    [MediaType] int NULL,
    [Title] nvarchar(max) NULL,
    [Url1] nvarchar(max) NULL,
    [Url2] nvarchar(max) NULL,
    [Url3] nvarchar(max) NULL,
    [CommentId] nvarchar(450) NULL,
    [BlogId] nvarchar(450) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Attechment] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Attechment_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Attechment_Comment_CommentId] FOREIGN KEY ([CommentId]) REFERENCES [Comment] ([Id]) ON DELETE NO ACTION
);
2024-07-27 11:14:04.034 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Counting] (
    [ParentId] nvarchar(450) NOT NULL,
    [Type] int NOT NULL,
    [ViewCount] int NOT NULL,
    [Rating] real NOT NULL,
    [NumberOfVisit] int NOT NULL,
    [Description] nvarchar(max) NULL,
    [UserVisit] nvarchar(max) NULL,
    [MangaId] nvarchar(450) NULL,
    [ChapterId] nvarchar(450) NULL,
    [CommentId] nvarchar(450) NULL,
    [BlogId] nvarchar(450) NULL,
    [CreateDate] datetime2 NULL,
    [IdUserCreate] nvarchar(max) NULL,
    [UpdateDate] datetime2 NULL,
    [IdUserUpdate] nvarchar(max) NULL,
    [DeleteDate] datetime2 NULL,
    [IdUserDelete] nvarchar(max) NULL,
    CONSTRAINT [PK_Counting] PRIMARY KEY ([ParentId]),
    CONSTRAINT [FK_Counting_Blogs_BlogId] FOREIGN KEY ([BlogId]) REFERENCES [Blogs] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Counting_Chapter_ChapterId] FOREIGN KEY ([ChapterId]) REFERENCES [Chapter] ([Id]),
    CONSTRAINT [FK_Counting_Comment_CommentId] FOREIGN KEY ([CommentId]) REFERENCES [Comment] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Counting_Manga_MangaId] FOREIGN KEY ([MangaId]) REFERENCES [Manga] ([Id]) ON DELETE CASCADE
);
2024-07-27 11:14:04.035 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Attechment_BlogId] ON [Attechment] ([BlogId]);
2024-07-27 11:14:04.036 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Attechment_CommentId] ON [Attechment] ([CommentId]);
2024-07-27 11:14:04.037 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comment_BlogId] ON [Comment] ([BlogId]);
2024-07-27 11:14:04.037 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comment_ChapterId] ON [Comment] ([ChapterId]);
2024-07-27 11:14:04.038 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comment_MangaId] ON [Comment] ([MangaId]);
2024-07-27 11:14:04.039 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comment_UserEntityId] ON [Comment] ([UserEntityId]);
2024-07-27 11:14:07.407 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comment_UserId] ON [Comment] ([UserId]);
2024-07-27 11:14:07.409 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Counting_BlogId] ON [Counting] ([BlogId]) WHERE [BlogId] IS NOT NULL;
2024-07-27 11:14:07.410 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Counting_ChapterId] ON [Counting] ([ChapterId]) WHERE [ChapterId] IS NOT NULL;
2024-07-27 11:14:07.411 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Counting_CommentId] ON [Counting] ([CommentId]) WHERE [CommentId] IS NOT NULL;
2024-07-27 11:14:07.412 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Counting_MangaId] ON [Counting] ([MangaId]) WHERE [MangaId] IS NOT NULL;
2024-07-27 11:14:07.413 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reaction_BlogId] ON [Reaction] ([BlogId]);
2024-07-27 11:14:07.414 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ThreadOfBlog_BlogId] ON [ThreadOfBlog] ([BlogId]);
2024-07-27 11:14:07.415 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240727040451_v4', N'7.0.0');
2024-07-27 11:20:03.274 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 11:20:04.134 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 13:41:31.297 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-27 13:41:32.899 +07:00 [INF] Now listening on: https://localhost:7181
2024-07-27 13:41:32.900 +07:00 [INF] Now listening on: http://localhost:5213
2024-07-27 13:41:32.902 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-27 13:41:32.902 +07:00 [INF] Hosting environment: Development
2024-07-27 13:41:32.904 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-07-27 13:41:36.491 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-07-27 13:41:37.194 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 451.4844 ms
2024-07-27 13:41:37.204 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 716.7484ms
2024-07-27 13:41:37.246 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-07-27 13:41:37.247 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-07-27 13:41:37.259 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 12.5077ms
2024-07-27 13:41:37.497 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 250.1155ms
2024-07-27 13:41:37.546 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - -
2024-07-27 13:41:37.934 +07:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 385.3767 ms
2024-07-27 13:41:37.935 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 388.7307ms
2024-07-27 13:42:57.148 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/user/create application/json 181
2024-07-27 13:42:57.154 +07:00 [INF] CORS policy execution successful.
2024-07-27 13:42:57.165 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.UserController.CreateUser (YAHALLO)'
2024-07-27 13:42:57.217 +07:00 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.String]]] CreateUser(YAHALLO.Application.Commands.UserCommand.Anynomous.Create.CreateUserCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.UserController (YAHALLO).
2024-07-27 13:42:59.124 +07:00 [WRN] The foreign key {'Id'} on entity type 'CommentEntity' targets itself. Consider removing it since it serves no purpose.
2024-07-27 13:43:01.780 +07:00 [INF] Executed DbCommand (197ms) [Parameters=[@__request_Email_0='?' (Size = 450), @__request_UserName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0 OR [u].[UserName] = @__request_UserName_1
2024-07-27 13:43:02.187 +07:00 [INF] Executed DbCommand (119ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreateDate], [r].[DeleteDate], [r].[IdUserCreate], [r].[IdUserDelete], [r].[IdUserUpdate], [r].[RoleCode], [r].[RoleDescription], [r].[RoleName], [r].[UpdateDate]
FROM [Roles] AS [r]
WHERE [r].[RoleCode] = 2
2024-07-27 13:43:02.655 +07:00 [INF] Executed DbCommand (153ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (DbType = Boolean), @p6='?' (Size = 200), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 200), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 8000) (DbType = AnsiString), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 450), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (Size = 450), @p27='?' (Size = 450), @p28='?' (DbType = DateTime2), @p29='?' (DbType = DateTime2), @p30='?' (Size = 4000), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreateDate], [DeleteDate], [DisplayName], [Email], [EmailConfirm], [FirstName], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [LastName], [Level], [Password], [PhoneConfirmed], [PhoneNumber], [Status], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
INSERT INTO [OldPassword] ([UserId], [CreateDate], [DeleteDate], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [OldPasswords], [UpdateDate])
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25);
INSERT INTO [UserRole] ([RoleId], [UserId], [CreateDate], [DeleteDate], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [UpdateDate])
VALUES (@p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33);
2024-07-27 13:43:06.497 +07:00 [WRN] Yahallo Long Running Request: CreateUserCommand (9023 milliseconds)  {"FirstName":"Sơn","LastName":"Thủy","Email":"haileds939@gmail.com","PhoneNumber":"0384539162","UserName":"haileds939@gmail.com","Password":"Hai@119067","$type":"CreateUserCommand"}
2024-07-27 13:43:06.515 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-27 13:43:06.526 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.UserController.CreateUser (YAHALLO) in 9303.0815ms
2024-07-27 13:43:06.528 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.UserController.CreateUser (YAHALLO)'
2024-07-27 13:43:06.529 +07:00 [INF] HTTP POST /user/create responded 200 in 9373.1120 ms
2024-07-27 13:43:06.546 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7181/user/create application/json 181 - 200 - application/json;+charset=utf-8 9398.2709ms
2024-07-27 13:44:21.156 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/services/confirm-email?token=236A72BF785C6CD341CCB5FF8818BCF919AA2DF49D33387D9AB1F7283234808C&userid=eb15e14610264127bdebd2aa1d715198 - -
2024-07-27 13:44:21.164 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.ServicesController.ConfirmEmail (YAHALLO)'
2024-07-27 13:44:21.170 +07:00 [INF] Route matched with {action = "ConfirmEmail", controller = "Services"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.String]]] ConfirmEmail(System.String, System.String, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.ServicesController (YAHALLO).
2024-07-27 13:44:21.473 +07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__request_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_UserId_0 AND (([u].[IdUserDelete] IS NULL) OR ([u].[IdUserDelete] LIKE N'')) AND ([u].[DeleteDate] IS NULL)
2024-07-27 13:44:21.579 +07:00 [INF] Executed DbCommand (89ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p4='?' (DbType = Boolean), @p5='?' (Size = 200), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 200), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = AnsiString), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreateDate] = @p0, [DeleteDate] = @p1, [DisplayName] = @p2, [Email] = @p3, [EmailConfirm] = @p4, [FirstName] = @p5, [IdUserCreate] = @p6, [IdUserDelete] = @p7, [IdUserUpdate] = @p8, [LastName] = @p9, [Level] = @p10, [Password] = @p11, [PhoneConfirmed] = @p12, [PhoneNumber] = @p13, [Status] = @p14, [UpdateDate] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17;
2024-07-27 13:44:21.585 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-27 13:44:21.587 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.ServicesController.ConfirmEmail (YAHALLO) in 415.7661ms
2024-07-27 13:44:21.588 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.ServicesController.ConfirmEmail (YAHALLO)'
2024-07-27 13:44:21.590 +07:00 [INF] HTTP GET /services/confirm-email responded 200 in 426.9964 ms
2024-07-27 13:44:21.593 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/services/confirm-email?token=236A72BF785C6CD341CCB5FF8818BCF919AA2DF49D33387D9AB1F7283234808C&userid=eb15e14610264127bdebd2aa1d715198 - - - 200 - application/json;+charset=utf-8 469.8395ms
2024-07-27 13:44:21.895 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/favicon.ico - -
2024-07-27 13:44:21.897 +07:00 [INF] HTTP GET /favicon.ico responded 404 in 1.0259 ms
2024-07-27 13:44:21.899 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/favicon.ico - - - 404 0 - 3.4538ms
2024-07-27 13:44:55.117 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/user/login application/json 68
2024-07-27 13:44:55.124 +07:00 [INF] CORS policy execution successful.
2024-07-27 13:44:55.129 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.UserController.Login (YAHALLO)'
2024-07-27 13:44:55.136 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[YAHALLO.Application.ResponeTypes.LoginRespone]]] Login(YAHALLO.Application.Commands.AuthenticationCommand.Login.LoginCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.UserController (YAHALLO).
2024-07-27 13:44:55.327 +07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__request_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__request_UserName_0
2024-07-27 13:44:55.450 +07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__checkUserExist_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessToken], [u].[CreateDate], [u].[DeleteDate], [u].[ExpiredRefeshToken], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[RefeshToken], [u].[UpdateDate]
FROM [UserToken] AS [u]
WHERE [u].[Id] = @__checkUserExist_Id_0
2024-07-27 13:44:55.578 +07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u].[CreateDate], [u].[DeleteDate], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[UpdateDate]
FROM [UserRole] AS [u]
WHERE [u].[UserId] = @__p_0
2024-07-27 13:44:55.690 +07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreateDate], [r].[DeleteDate], [r].[IdUserCreate], [r].[IdUserDelete], [r].[IdUserUpdate], [r].[RoleCode], [r].[RoleDescription], [r].[RoleName], [r].[UpdateDate]
FROM [Roles] AS [r]
WHERE [r].[Id] = @__p_0
2024-07-27 13:44:56.240 +07:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserToken] ([Id], [AccessToken], [CreateDate], [DeleteDate], [ExpiredRefeshToken], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [RefeshToken], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-07-27 13:44:56.243 +07:00 [WRN] Yahallo Long Running Request: LoginCommand (1029 milliseconds)  {"UserName":"haileds939@gmail.com","Password":"Hai@119067","$type":"LoginCommand"}
2024-07-27 13:44:56.246 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[YAHALLO.Application.ResponeTypes.LoginRespone, YAHALLO.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-27 13:44:56.250 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.UserController.Login (YAHALLO) in 1111.8342ms
2024-07-27 13:44:56.251 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.UserController.Login (YAHALLO)'
2024-07-27 13:44:56.252 +07:00 [INF] HTTP POST /user/login responded 200 in 1126.8653 ms
2024-07-27 13:44:56.253 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7181/user/login application/json 68 - 200 - application/json;+charset=utf-8 1136.4752ms
2024-07-27 13:45:29.892 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/user/forgot-password application/json 37
2024-07-27 13:45:29.893 +07:00 [INF] CORS policy execution successful.
2024-07-27 13:45:29.893 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.UserController.ForgotPassword (YAHALLO)'
2024-07-27 13:45:29.899 +07:00 [INF] Route matched with {action = "ForgotPassword", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.String]]] ForgotPassword(YAHALLO.Application.Commands.UserCommand.Anynomous.ForgotPassword.ForgotPasswordCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.UserController (YAHALLO).
2024-07-27 13:45:30.083 +07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__request_Email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0 AND (([u].[IdUserDelete] IS NULL) OR ([u].[IdUserDelete] LIKE N'')) AND ([u].[DeleteDate] IS NULL)
2024-07-27 13:45:30.182 +07:00 [INF] Executed DbCommand (92ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p4='?' (DbType = Boolean), @p5='?' (Size = 200), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 200), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = AnsiString), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreateDate] = @p0, [DeleteDate] = @p1, [DisplayName] = @p2, [Email] = @p3, [EmailConfirm] = @p4, [FirstName] = @p5, [IdUserCreate] = @p6, [IdUserDelete] = @p7, [IdUserUpdate] = @p8, [LastName] = @p9, [Level] = @p10, [Password] = @p11, [PhoneConfirmed] = @p12, [PhoneNumber] = @p13, [Status] = @p14, [UpdateDate] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17;
2024-07-27 13:45:33.409 +07:00 [WRN] Yahallo Long Running Request: ForgotPasswordCommand (3435 milliseconds)  {"Email":"haileds939@gmail.com","$type":"ForgotPasswordCommand"}
2024-07-27 13:45:33.412 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-27 13:45:33.413 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.UserController.ForgotPassword (YAHALLO) in 3512.6138ms
2024-07-27 13:45:33.414 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.UserController.ForgotPassword (YAHALLO)'
2024-07-27 13:45:33.415 +07:00 [INF] HTTP POST /user/forgot-password responded 200 in 3521.9604 ms
2024-07-27 13:45:33.418 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7181/user/forgot-password application/json 37 - 200 - application/json;+charset=utf-8 3526.6153ms
2024-07-27 13:46:32.247 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/user/change-password application/json 139
2024-07-27 13:46:32.254 +07:00 [INF] CORS policy execution successful.
2024-07-27 13:46:32.255 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.UserController.ChangePassword (YAHALLO)'
2024-07-27 13:46:32.263 +07:00 [INF] Route matched with {action = "ChangePassword", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.String]]] ChangePassword(YAHALLO.Application.Commands.UserCommand.Anynomous.ChangePassword.ChangePasswordCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.UserController (YAHALLO).
2024-07-27 13:46:32.447 +07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__request_Id_0='?' (Size = 450), @__request_Email_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IdUserDelete] IS NULL) OR ([u].[IdUserDelete] LIKE N'')) AND ([u].[DeleteDate] IS NULL) AND [u].[Id] = @__request_Id_0 AND [u].[Email] = @__request_Email_1
2024-07-27 13:46:32.573 +07:00 [INF] Executed DbCommand (116ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p4='?' (DbType = Boolean), @p5='?' (Size = 200), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 200), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 8000) (DbType = AnsiString), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreateDate] = @p0, [DeleteDate] = @p1, [DisplayName] = @p2, [Email] = @p3, [EmailConfirm] = @p4, [FirstName] = @p5, [IdUserCreate] = @p6, [IdUserDelete] = @p7, [IdUserUpdate] = @p8, [LastName] = @p9, [Level] = @p10, [Password] = @p11, [PhoneConfirmed] = @p12, [PhoneNumber] = @p13, [Status] = @p14, [UpdateDate] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17;
2024-07-27 13:46:32.576 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-27 13:46:32.578 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.UserController.ChangePassword (YAHALLO) in 312.0024ms
2024-07-27 13:46:32.582 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.UserController.ChangePassword (YAHALLO)'
2024-07-27 13:46:32.584 +07:00 [INF] HTTP POST /user/change-password responded 200 in 329.1900 ms
2024-07-27 13:46:32.586 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7181/user/change-password application/json 139 - 200 - application/json;+charset=utf-8 338.0693ms
2024-07-27 13:46:41.025 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/user/get-all - -
2024-07-27 13:46:41.026 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.UserController.GetAll (YAHALLO)'
2024-07-27 13:46:41.031 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.Collections.Generic.List`1[YAHALLO.Application.Queries.UserQuery.UserDto]]]] GetAll(System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.UserController (YAHALLO).
2024-07-27 13:46:41.186 +07:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IdUserDelete] IS NULL) OR ([u].[IdUserDelete] LIKE N'')) AND ([u].[DeleteDate] IS NULL)
2024-07-27 13:46:41.322 +07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[UserId] = @__p_0
2024-07-27 13:46:41.453 +07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[UserId] = @__p_0
2024-07-27 13:46:41.537 +07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[UserId] = @__p_0
2024-07-27 13:46:41.539 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[System.Collections.Generic.List`1[[YAHALLO.Application.Queries.UserQuery.UserDto, YAHALLO.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-27 13:46:41.545 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.UserController.GetAll (YAHALLO) in 512.5426ms
2024-07-27 13:46:41.545 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.UserController.GetAll (YAHALLO)'
2024-07-27 13:46:41.546 +07:00 [INF] HTTP GET /user/get-all responded 200 in 520.8812 ms
2024-07-27 13:46:41.547 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/user/get-all - - - 200 - application/json;+charset=utf-8 522.7973ms
2024-07-27 13:47:18.740 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/Data/User/934486-guilty-crown-wallpaper-1920x1080-1920x1080-pc.jpg - -
2024-07-27 13:47:18.761 +07:00 [INF] HTTP GET /Data/User/934486-guilty-crown-wallpaper-1920x1080-1920x1080-pc.jpg responded 404 in 1.4109 ms
2024-07-27 13:47:18.762 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/Data/User/934486-guilty-crown-wallpaper-1920x1080-1920x1080-pc.jpg - - - 404 0 - 22.4068ms
2024-07-27 13:47:49.210 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/manga/get-all - -
2024-07-27 13:47:49.238 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-27 13:47:49.246 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-07-27 13:47:49.247 +07:00 [INF] HTTP GET /manga/get-all responded 401 in 36.4239 ms
2024-07-27 13:47:49.248 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/manga/get-all - - - 401 0 - 38.6349ms
