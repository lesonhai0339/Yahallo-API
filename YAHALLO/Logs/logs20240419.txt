2024-04-19 22:03:10.969 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-19 22:03:13.301 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-19 22:03:13.302 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-19 22:03:13.305 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-19 22:03:13.307 +07:00 [INF] Hosting environment: Development
2024-04-19 22:03:13.309 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-19 22:03:18.924 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-19 22:03:20.020 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 591.8780 ms
2024-04-19 22:03:20.035 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 1116.6408ms
2024-04-19 22:03:20.103 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-19 22:03:20.103 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-19 22:03:20.122 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 19.2253ms
2024-04-19 22:03:20.254 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 150.9997ms
2024-04-19 22:03:20.316 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - -
2024-04-19 22:03:20.807 +07:00 [INF] HTTP GET /swagger/v111/swagger.json responded 200 in 489.2894 ms
2024-04-19 22:03:20.811 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - - - 200 - application/json;charset=utf-8 495.0853ms
2024-04-19 22:03:39.941 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/user/login application/json 56
2024-04-19 22:03:39.949 +07:00 [INF] CORS policy execution successful.
2024-04-19 22:03:39.959 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.UserController.Login (YAHALLO)'
2024-04-19 22:03:40.013 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[YAHALLO.Application.ResponeTypes.LoginRespone]]] Login(YAHALLO.Application.Commands.AuthenticationCommand.Login.LoginCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.UserController (YAHALLO).
2024-04-19 22:03:48.180 +07:00 [INF] Executed DbCommand (757ms) [Parameters=[@__request_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__request_UserName_0
2024-04-19 22:03:48.812 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__checkUserExist_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessToken], [u].[CreateDate], [u].[DeleteDate], [u].[ExpiredRefeshToken], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[RefeshToken], [u].[UpdateDate]
FROM [UserToken] AS [u]
WHERE [u].[Id] = @__checkUserExist_Id_0
2024-04-19 22:03:48.937 +07:00 [WRN] Yahallo Long Running Request: LoginCommand (8599 milliseconds)  {"UserName":"lesonhai","Password":"Hai@119067","$type":"LoginCommand"}
2024-04-19 22:03:48.980 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[YAHALLO.Application.ResponeTypes.LoginRespone, YAHALLO.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-19 22:03:48.997 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.UserController.Login (YAHALLO) in 8978.1788ms
2024-04-19 22:03:49.001 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.UserController.Login (YAHALLO)'
2024-04-19 22:03:49.002 +07:00 [INF] HTTP POST /user/login responded 200 in 9051.2653 ms
2024-04-19 22:03:49.017 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7181/user/login application/json 56 - 200 - application/json;+charset=utf-8 9075.0355ms
2024-04-19 22:05:22.303 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-19 22:05:23.287 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-19 22:05:23.289 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-19 22:05:23.291 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-19 22:05:23.293 +07:00 [INF] Hosting environment: Development
2024-04-19 22:05:23.294 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-19 22:05:28.251 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-19 22:05:29.015 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 376.8423 ms
2024-04-19 22:05:29.026 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 780.9343ms
2024-04-19 22:05:29.078 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-19 22:05:29.078 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-19 22:05:29.090 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 11.9312ms
2024-04-19 22:05:29.183 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 104.2545ms
2024-04-19 22:05:29.294 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - -
2024-04-19 22:05:29.791 +07:00 [INF] HTTP GET /swagger/v111/swagger.json responded 200 in 493.0559 ms
2024-04-19 22:05:29.794 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - - - 200 - application/json;charset=utf-8 499.7875ms
2024-04-19 22:06:02.039 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/manga/get-all - -
2024-04-19 22:06:02.950 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.MangaController.GetAllManga (YAHALLO)'
2024-04-19 22:06:02.999 +07:00 [INF] Route matched with {action = "GetAllManga", controller = "Manga"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[System.Collections.Generic.List`1[YAHALLO.Application.Queries.MangaQuery.MangaDto]]]] GetAllManga(System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.MangaController (YAHALLO).
2024-04-19 22:06:06.460 +07:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE (([m].[IdUserDelete] IS NULL) OR ([m].[IdUserDelete] LIKE N'')) AND ([m].[DeleteDate] IS NULL)
2024-04-19 22:06:06.822 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[MangaId] = @__p_0
2024-04-19 22:06:06.972 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-04-19 22:06:07.083 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[MangaId] = @__p_0
2024-04-19 22:06:07.089 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[MangaId] = @__p_0
2024-04-19 22:06:07.094 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[MangaId] = @__p_0
2024-04-19 22:06:07.098 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[MangaId] = @__p_0
2024-04-19 22:06:07.102 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[MangaId] = @__p_0
2024-04-19 22:06:07.109 +07:00 [WRN] Yahallo Long Running Request: GetAllMangaQuery (3877 milliseconds) 0c425578cf3545498bfe86ae001ad508 {"$type":"GetAllMangaQuery"}
2024-04-19 22:06:07.132 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[System.Collections.Generic.List`1[[YAHALLO.Application.Queries.MangaQuery.MangaDto, YAHALLO.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-04-19 22:06:07.151 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.MangaController.GetAllManga (YAHALLO) in 4145.1908ms
2024-04-19 22:06:07.153 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.MangaController.GetAllManga (YAHALLO)'
2024-04-19 22:06:07.155 +07:00 [INF] HTTP GET /manga/get-all responded 200 in 5106.8897 ms
2024-04-19 22:06:07.182 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/manga/get-all - - - 200 - application/json;+charset=utf-8 5143.5030ms
2024-04-19 22:06:47.877 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/chapter/create multipart/form-data;+boundary=----WebKitFormBoundaryfbFExXkCNqrkoxkq 164072
2024-04-19 22:06:47.897 +07:00 [INF] CORS policy execution successful.
2024-04-19 22:06:47.905 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.CreateChapter (YAHALLO)'
2024-04-19 22:06:47.916 +07:00 [INF] Route matched with {action = "CreateChapter", controller = "Chapter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[YAHALLO.Domain.Common.Interfaces.ResponeResult]]] CreateChapter(YAHALLO.Application.Commands.ChapterCommand.Create.CreateChapterCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.ChapterController (YAHALLO).
2024-04-19 22:06:48.173 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_MangaId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE [m].[Id] = @__request_MangaId_0
2024-04-19 22:06:48.233 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_MangaId_0='?' (Size = 450), @__request_Index_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreateDate], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[Index], [c].[MangaId], [c].[Title], [c].[UpdateDate]
FROM [Chapter] AS [c]
WHERE [c].[MangaId] = @__request_MangaId_0 AND [c].[Index] = @__request_Index_1 AND (([c].[IdUserDelete] IS NULL) OR ([c].[IdUserDelete] LIKE N'')) AND ([c].[DeleteDate] IS NULL)
2024-04-19 22:06:48.572 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 450), @p8='?' (Size = 255), @p9='?' (DbType = DateTime2), @p10='?' (Size = 450), @p11='?' (Size = 4000), @p12='?' (Size = 450), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (Size = 450), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime2), @p23='?' (Size = 450), @p24='?' (Size = 450), @p25='?' (Size = 4000), @p26='?' (Size = 450), @p27='?' (Size = 4000), @p28='?' (DbType = DateTime2), @p29='?' (DbType = DateTime2), @p30='?' (Size = 4000), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Int32), @p34='?' (Size = 450), @p35='?' (DbType = Int32), @p36='?' (DbType = DateTime2), @p37='?' (Size = 450), @p38='?' (Size = 450), @p39='?' (Size = 4000), @p40='?' (Size = 450), @p41='?' (Size = 4000), @p42='?' (DbType = DateTime2), @p43='?' (DbType = DateTime2), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int32), @p48='?' (Size = 450), @p49='?' (DbType = Int32), @p50='?' (DbType = DateTime2), @p51='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Chapter] ([Id], [CreateDate], [DeleteDate], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [Index], [MangaId], [Title], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [Image] ([Id], [BaseUrl], [ChapterId], [CloudUrl], [CreateDate], [DeleteDate], [IdUserCreate], [IdUserDelete], [IdUserUpdate], [Index], [MangaId], [TypeImage], [UpdateDate], [UserId])
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37),
(@p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2024-04-19 22:06:48.628 +07:00 [WRN] Yahallo Long Running Request: CreateChapterCommand (550 milliseconds) 0c425578cf3545498bfe86ae001ad508 {"Title":"Sakurasou","Index":2,"MangaId":"2d1dde391b544430aecda5a90844aa74","Images":[{"ContentDisposition":"form-data; name=\"Images\"; filename=\"f3d24ba679250adaad3810b0bafd2486.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"f3d24ba679250adaad3810b0bafd2486.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":38272,"Name":"Images","FileName":"f3d24ba679250adaad3810b0bafd2486.jpg","$type":"FormFile"},{"ContentDisposition":"form-data; name=\"Images\"; filename=\"Shiina.Mashiro.600.1374691.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"Shiina.Mashiro.600.1374691.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":64584,"Name":"Images","FileName":"Shiina.Mashiro.600.1374691.jpg","$type":"FormFile"},{"ContentDisposition":"form-data; name=\"Images\"; filename=\"Tamako.Market.600.1845211.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"Tamako.Market.600.1845211.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":60361,"Name":"Images","FileName":"Tamako.Market.600.1845211.jpg","$type":"FormFile"}],"ImageUrls":null,"$type":"CreateChapterCommand"}
2024-04-19 22:06:48.665 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[YAHALLO.Domain.Common.Interfaces.ResponeResult, YAHALLO.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-19 22:06:48.673 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.ChapterController.CreateChapter (YAHALLO) in 754.3597ms
2024-04-19 22:06:48.675 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.CreateChapter (YAHALLO)'
2024-04-19 22:06:48.677 +07:00 [INF] HTTP POST /chapter/create responded 200 in 776.9154 ms
2024-04-19 22:06:48.680 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7181/chapter/create multipart/form-data;+boundary=----WebKitFormBoundaryfbFExXkCNqrkoxkq 164072 - 200 - application/json;+charset=utf-8 802.8120ms
2024-04-19 22:08:07.410 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/chapter/update multipart/form-data;+boundary=----WebKitFormBoundarymrZFiXS9jKEsw2ez 191797
2024-04-19 22:08:07.422 +07:00 [INF] CORS policy execution successful.
2024-04-19 22:08:07.427 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO)'
2024-04-19 22:08:07.434 +07:00 [INF] Route matched with {action = "UpdateChapter", controller = "Chapter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[YAHALLO.Domain.Common.Interfaces.ResponeResult]]] UpdateChapter(YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.ChapterController (YAHALLO).
2024-04-19 22:08:07.751 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO) in 315.4078ms
2024-04-19 22:08:07.863 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO)'
2024-04-19 22:08:08.028 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Could not create an instance of type 'YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommand'. Model bound complex types must not be abstract or value types and must have a parameterless constructor. Record types must have a single primary constructor. Alternatively, give the 'command' parameter a non-null default value.
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.CreateModel(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindModelCoreAsync(ModelBindingContext bindingContext, Int32 propertyData)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ExceptionContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-04-19 22:08:08.074 +07:00 [ERR] HTTP POST /chapter/update responded 500 in 651.2854 ms
2024-04-19 22:08:08.084 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7181/chapter/update multipart/form-data;+boundary=----WebKitFormBoundarymrZFiXS9jKEsw2ez 191797 - 500 - application/problem+json 673.8672ms
2024-04-19 22:08:43.384 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-19 22:08:44.159 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-19 22:08:44.160 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-19 22:08:44.163 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-19 22:08:44.164 +07:00 [INF] Hosting environment: Development
2024-04-19 22:08:44.166 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-19 22:08:46.223 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-19 22:08:46.689 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 252.4942 ms
2024-04-19 22:08:46.700 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 482.6836ms
2024-04-19 22:08:48.164 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-19 22:08:48.164 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-19 22:08:48.184 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 19.9618ms
2024-04-19 22:08:48.243 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 78.5501ms
2024-04-19 22:08:48.311 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - -
2024-04-19 22:08:48.822 +07:00 [INF] HTTP GET /swagger/v111/swagger.json responded 200 in 509.0027 ms
2024-04-19 22:08:48.829 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - - - 200 - application/json;charset=utf-8 518.4202ms
2024-04-19 22:09:25.825 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/chapter/update multipart/form-data;+boundary=----WebKitFormBoundaryiClISPmaIPhdxELK 208274
2024-04-19 22:09:25.871 +07:00 [INF] CORS policy execution successful.
2024-04-19 22:09:26.150 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO)'
2024-04-19 22:09:26.197 +07:00 [INF] Route matched with {action = "UpdateChapter", controller = "Chapter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[YAHALLO.Domain.Common.Interfaces.ResponeResult]]] UpdateChapter(YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.ChapterController (YAHALLO).
2024-04-19 22:09:38.316 +07:00 [INF] Executed DbCommand (172ms) [Parameters=[@__request_MangaId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE [m].[Id] = @__request_MangaId_0
2024-04-19 22:09:43.774 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MangaId], [m].[ArtistId], [m].[CreateDate], [m].[DeleteDate], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[UpdateDate]
FROM [MangaArtist] AS [m]
WHERE [m].[MangaId] = @__p_0
2024-04-19 22:09:43.901 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[CreateDate], [a].[DeleteDate], [a].[IdUserCreate], [a].[IdUserDelete], [a].[IdUserUpdate], [a].[MangaId], [a].[Name], [a].[UpdateDate]
FROM [AssociateName] AS [a]
WHERE [a].[MangaId] = @__p_0
2024-04-19 22:09:43.978 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MangaId], [m].[AuthorId], [m].[CreateDate], [m].[DeleteDate], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[UpdateDate]
FROM [MangaAuthor] AS [m]
WHERE [m].[AuthorId] = @__p_0
2024-04-19 22:09:44.077 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreateDate], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[Index], [c].[MangaId], [c].[Title], [c].[UpdateDate]
FROM [Chapter] AS [c]
WHERE [c].[MangaId] = @__p_0
2024-04-19 22:09:44.220 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ChapterId], [c].[CommentType], [c].[CreateDate], [c].[Data], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[MangaId], [c].[UpdateDate], [c].[UserId], [c].[UserReplyId]
FROM [Comment] AS [c]
WHERE [c].[MangaId] = @__p_0
2024-04-19 22:09:44.332 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[UserId], [f].[MangaId], [f].[CreateDate], [f].[DeleteDate], [f].[IdUserCreate], [f].[IdUserDelete], [f].[IdUserUpdate], [f].[UpdateDate]
FROM [Follow] AS [f]
WHERE [f].[MangaId] = @__p_0
2024-04-19 22:09:44.509 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreateDate], [m].[DeleteDate], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[UpdateDate]
FROM [MangaSeason] AS [m]
WHERE [m].[Id] = @__p_0
2024-04-19 22:09:44.616 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MangaId], [m].[CreateDate], [m].[DeleteDate], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[UpdateDate], [m].[View]
FROM [MangaView] AS [m]
WHERE [m].[MangaId] = @__p_0
2024-04-19 22:09:44.673 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[UserId], [r].[MangaId], [r].[CreateDate], [r].[DeleteDate], [r].[Id], [r].[IdUserCreate], [r].[IdUserDelete], [r].[IdUserUpdate], [r].[Rating], [r].[UpdateDate]
FROM [Rating] AS [r]
WHERE [r].[MangaId] = @__p_0
2024-04-19 22:09:44.776 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[MangaId] = @__p_0
2024-04-19 22:09:44.915 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreateDate], [u].[DeleteDate], [u].[DisplayName], [u].[Email], [u].[EmailConfirm], [u].[FirstName], [u].[IdUserCreate], [u].[IdUserDelete], [u].[IdUserUpdate], [u].[LastName], [u].[Level], [u].[Password], [u].[PhoneConfirmed], [u].[PhoneNumber], [u].[Status], [u].[UpdateDate], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-04-19 22:09:54.664 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[@__request_ChapterId_0='?' (Size = 450), @__request_MangaId_1='?' (Size = 450), @__request_Index_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[Index], [c].[MangaId], [c].[Title], [c].[UpdateDate]
FROM [Chapter] AS [c]
WHERE [c].[Id] = @__request_ChapterId_0 AND [c].[MangaId] = @__request_MangaId_1 AND [c].[Index] = @__request_Index_2 AND (([c].[IdUserDelete] IS NULL) OR ([c].[IdUserDelete] LIKE N'')) AND ([c].[DeleteDate] IS NULL)
2024-04-19 22:10:47.729 +07:00 [ERR] Yahallo Request: Unhandled Exception for Request UpdateChapterCommand {"ChapterId":"2373d94444cf4951b77ac711c24ac9f7","MangaId":"2d1dde391b544430aecda5a90844aa74","Title":"Cái qq gì thế","Index":1,"Images":[{"ContentDisposition":"form-data; name=\"Images\"; filename=\"Shiina.Mashiro.600.1374691.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"Shiina.Mashiro.600.1374691.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":64584,"Name":"Images","FileName":"Shiina.Mashiro.600.1374691.jpg","$type":"FormFile"},{"ContentDisposition":"form-data; name=\"Images\"; filename=\"f3d24ba679250adaad3810b0bafd2486.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"f3d24ba679250adaad3810b0bafd2486.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":38272,"Name":"Images","FileName":"f3d24ba679250adaad3810b0bafd2486.jpg","$type":"FormFile"},{"ContentDisposition":"form-data; name=\"Images\"; filename=\"__w_schwarz_eunectes_lin_hellagur_and_1_more_arknights_drawn_by_liduke__sample-849440973b6a674f0f10a8f92b4b20b9 - Copy.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"__w_schwarz_eunectes_lin_hellagur_and_1_more_arknights_drawn_by_liduke__sample-849440973b6a674f0f10a8f92b4b20b9 - Copy.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":104331,"Name":"Images","FileName":"__w_schwarz_eunectes_lin_hellagur_and_1_more_arknights_drawn_by_liduke__sample-849440973b6a674f0f10a8f92b4b20b9 - Copy.jpg","$type":"FormFile"}],"ImageUrls":null,"$type":"UpdateChapterCommand"}
YAHALLO.Domain.Exceptions.NotFoundException: Không tồn tại chương truyện này
   at YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommandHandler.Handle(UpdateChapterCommand request, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\ChapterCommand\Update\UpdateChapterCommandHandler.cs:line 56
   at YAHALLO.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at YAHALLO.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\AuthorizationBehaviour.cs:line 79
   at YAHALLO.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\PerformanceBehaviour.cs:line 34
   at YAHALLO.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 25
2024-04-19 22:10:48.216 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-04-19 22:10:48.232 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO) in 82027.0973ms
2024-04-19 22:10:48.235 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO)'
2024-04-19 22:10:48.236 +07:00 [INF] HTTP POST /chapter/update responded 404 in 82361.7407 ms
2024-04-19 22:11:02.768 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7181/chapter/update multipart/form-data;+boundary=----WebKitFormBoundaryiClISPmaIPhdxELK 208274 - 404 - application/problem+json;+charset=utf-8 96943.1395ms
2024-04-19 22:12:14.014 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/chapter/update multipart/form-data;+boundary=----WebKitFormBoundaryoaMLLbSoX1a5hrtP 208274
2024-04-19 22:12:14.019 +07:00 [INF] CORS policy execution successful.
2024-04-19 22:12:14.032 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO)'
2024-04-19 22:12:14.038 +07:00 [INF] Route matched with {action = "UpdateChapter", controller = "Chapter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[YAHALLO.Domain.Common.Interfaces.ResponeResult]]] UpdateChapter(YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.ChapterController (YAHALLO).
2024-04-19 22:12:17.544 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_MangaId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE [m].[Id] = @__request_MangaId_0
2024-04-19 22:12:19.710 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__request_ChapterId_0='?' (Size = 450), @__request_MangaId_1='?' (Size = 450), @__request_Index_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[Index], [c].[MangaId], [c].[Title], [c].[UpdateDate]
FROM [Chapter] AS [c]
WHERE [c].[Id] = @__request_ChapterId_0 AND [c].[MangaId] = @__request_MangaId_1 AND [c].[Index] = @__request_Index_2 AND (([c].[IdUserDelete] IS NULL) OR ([c].[IdUserDelete] LIKE N'')) AND ([c].[DeleteDate] IS NULL)
2024-04-19 22:14:09.341 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-19 22:14:10.265 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-19 22:14:10.266 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-19 22:14:10.268 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-19 22:14:10.269 +07:00 [INF] Hosting environment: Development
2024-04-19 22:14:10.270 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-19 22:14:14.874 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-19 22:14:15.564 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 308.0008 ms
2024-04-19 22:14:15.576 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 708.3843ms
2024-04-19 22:14:15.625 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-19 22:14:15.625 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-19 22:14:15.640 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 15.0209ms
2024-04-19 22:14:15.717 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 92.1694ms
2024-04-19 22:14:15.802 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - -
2024-04-19 22:14:16.386 +07:00 [INF] HTTP GET /swagger/v111/swagger.json responded 200 in 581.3821 ms
2024-04-19 22:14:16.388 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - - - 200 - application/json;charset=utf-8 585.9561ms
2024-04-19 22:14:58.954 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/chapter/update multipart/form-data;+boundary=----WebKitFormBoundary40sLAHShfH8CHRYp 219238
2024-04-19 22:14:58.985 +07:00 [INF] CORS policy execution successful.
2024-04-19 22:14:59.297 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO)'
2024-04-19 22:14:59.346 +07:00 [INF] Route matched with {action = "UpdateChapter", controller = "Chapter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[YAHALLO.Domain.Common.Interfaces.ResponeResult]]] UpdateChapter(YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.ChapterController (YAHALLO).
2024-04-19 22:15:05.919 +07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__request_MangaId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE [m].[Id] = @__request_MangaId_0
2024-04-19 22:15:09.479 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__request_ChapterId_0='?' (Size = 450), @__request_MangaId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[Index], [c].[MangaId], [c].[Title], [c].[UpdateDate]
FROM [Chapter] AS [c]
WHERE [c].[Id] = @__request_ChapterId_0 AND [c].[MangaId] = @__request_MangaId_1 AND (([c].[IdUserDelete] IS NULL) OR ([c].[IdUserDelete] LIKE N'')) AND ([c].[DeleteDate] IS NULL)
2024-04-19 22:15:16.581 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__request_Index_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreateDate], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[Index], [c].[MangaId], [c].[Title], [c].[UpdateDate]
FROM [Chapter] AS [c]
WHERE [c].[Index] = @__request_Index_0 AND (([c].[IdUserDelete] IS NULL) OR ([c].[IdUserDelete] LIKE N'')) AND ([c].[DeleteDate] IS NULL)
2024-04-19 22:15:28.534 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ChapterId], [c].[CommentType], [c].[CreateDate], [c].[Data], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[MangaId], [c].[UpdateDate], [c].[UserId], [c].[UserReplyId]
FROM [Comment] AS [c]
WHERE [c].[ChapterId] = @__p_0
2024-04-19 22:15:28.664 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[ChapterId] = @__p_0
2024-04-19 22:15:28.885 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE [m].[Id] = @__p_0
2024-04-19 22:16:12.648 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-19 22:16:13.194 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-19 22:16:13.196 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-19 22:16:13.199 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-19 22:16:13.200 +07:00 [INF] Hosting environment: Development
2024-04-19 22:16:13.201 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-19 22:16:17.117 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-19 22:16:17.666 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 337.5007 ms
2024-04-19 22:16:17.693 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 579.2212ms
2024-04-19 22:16:17.738 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-19 22:16:17.738 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-19 22:16:17.754 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 16.0851ms
2024-04-19 22:16:17.825 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 87.5081ms
2024-04-19 22:16:17.910 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - -
2024-04-19 22:16:18.365 +07:00 [INF] HTTP GET /swagger/v111/swagger.json responded 200 in 452.8327 ms
2024-04-19 22:16:18.367 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - - - 200 - application/json;charset=utf-8 457.2050ms
2024-04-19 22:16:54.085 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/chapter/update multipart/form-data;+boundary=----WebKitFormBoundaryQBYUZH0VxgPBU9Bu 205268
2024-04-19 22:16:54.100 +07:00 [INF] CORS policy execution successful.
2024-04-19 22:16:54.361 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO)'
2024-04-19 22:16:54.417 +07:00 [INF] Route matched with {action = "UpdateChapter", controller = "Chapter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[YAHALLO.Domain.Common.Interfaces.ResponeResult]]] UpdateChapter(YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.ChapterController (YAHALLO).
2024-04-19 22:17:00.509 +07:00 [INF] Executed DbCommand (76ms) [Parameters=[@__request_MangaId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE [m].[Id] = @__request_MangaId_0
2024-04-19 22:17:03.402 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__request_ChapterId_0='?' (Size = 450), @__request_MangaId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[Index], [c].[MangaId], [c].[Title], [c].[UpdateDate]
FROM [Chapter] AS [c]
WHERE [c].[Id] = @__request_ChapterId_0 AND [c].[MangaId] = @__request_MangaId_1 AND (([c].[IdUserDelete] IS NULL) OR ([c].[IdUserDelete] LIKE N'')) AND ([c].[DeleteDate] IS NULL)
2024-04-19 22:17:07.390 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_MangaId_0='?' (Size = 450), @__request_Index_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreateDate], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[Index], [c].[MangaId], [c].[Title], [c].[UpdateDate]
FROM [Chapter] AS [c]
WHERE [c].[MangaId] = @__request_MangaId_0 AND [c].[Index] = @__request_Index_1 AND (([c].[IdUserDelete] IS NULL) OR ([c].[IdUserDelete] LIKE N'')) AND ([c].[DeleteDate] IS NULL)
2024-04-19 22:17:16.356 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@p9='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450), @p7='?' (Size = 255), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Chapter] SET [CreateDate] = @p0, [DeleteDate] = @p1, [IdUserCreate] = @p2, [IdUserDelete] = @p3, [IdUserUpdate] = @p4, [Index] = @p5, [MangaId] = @p6, [Title] = @p7, [UpdateDate] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2024-04-19 22:17:52.919 +07:00 [ERR] Yahallo Request: Unhandled Exception for Request UpdateChapterCommand {"ChapterId":"2373d94444cf4951b77ac711c24ac9f7","MangaId":"2d1dde391b544430aecda5a90844aa74","Title":"Cập nhật","Index":1,"Images":[{"ContentDisposition":"form-data; name=\"Images\"; filename=\"Tamako.Market.600.1845211.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"Tamako.Market.600.1845211.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":60361,"Name":"Images","FileName":"Tamako.Market.600.1845211.jpg","$type":"FormFile"},{"ContentDisposition":"form-data; name=\"Images\"; filename=\"74995792_p0.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"74995792_p0.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":67769,"Name":"Images","FileName":"74995792_p0.jpg","$type":"FormFile"},{"ContentDisposition":"form-data; name=\"Images\"; filename=\"RaBQfbb.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"RaBQfbb.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":76190,"Name":"Images","FileName":"RaBQfbb.jpg","$type":"FormFile"}],"ImageUrls":null,"$type":"UpdateChapterCommand"}
System.InvalidOperationException: The LINQ expression 'y => EntityShaperExpression: 
    YAHALLO.Domain.Entities.ImageEntity
    ValueBufferExpression: 
        ProjectionBindingExpression: EmptyProjectionMember
    IsNullable: False
.BaseUrl.Contains(y.FileName)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitLambda[T](Expression`1 lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at YAHALLO.Infrastructure.Repositories.RepositoryBase`3.FindAllAsync(Expression`1 filterExpression, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Infrastructure\Repositories\RepositoryBase.cs:line 72
   at YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommandHandler.Handle(UpdateChapterCommand request, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\ChapterCommand\Update\UpdateChapterCommandHandler.cs:line 72
   at YAHALLO.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at YAHALLO.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\AuthorizationBehaviour.cs:line 79
   at YAHALLO.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\PerformanceBehaviour.cs:line 34
   at YAHALLO.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 25
2024-04-19 22:17:53.703 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO) in 59280.5381ms
2024-04-19 22:17:53.885 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO)'
2024-04-19 22:17:54.217 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'y => EntityShaperExpression: 
    YAHALLO.Domain.Entities.ImageEntity
    ValueBufferExpression: 
        ProjectionBindingExpression: EmptyProjectionMember
    IsNullable: False
.BaseUrl.Contains(y.FileName)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitLambda[T](Expression`1 lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at YAHALLO.Infrastructure.Repositories.RepositoryBase`3.FindAllAsync(Expression`1 filterExpression, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Infrastructure\Repositories\RepositoryBase.cs:line 72
   at YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommandHandler.Handle(UpdateChapterCommand request, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\ChapterCommand\Update\UpdateChapterCommandHandler.cs:line 72
   at YAHALLO.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at YAHALLO.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\AuthorizationBehaviour.cs:line 79
   at YAHALLO.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\PerformanceBehaviour.cs:line 34
   at YAHALLO.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 25
   at YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter(UpdateChapterCommand command, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO\Controllers\Anonymous\ChapterController.cs:line 44
   at lambda_method7(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ExceptionContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-04-19 22:17:54.285 +07:00 [ERR] HTTP POST /chapter/update responded 500 in 60183.0777 ms
2024-04-19 22:17:59.174 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7181/chapter/update multipart/form-data;+boundary=----WebKitFormBoundaryQBYUZH0VxgPBU9Bu 205268 - 500 - application/problem+json 65088.2518ms
2024-04-19 22:20:54.322 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-19 22:20:55.221 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-19 22:20:55.222 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-19 22:20:55.224 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-19 22:20:55.225 +07:00 [INF] Hosting environment: Development
2024-04-19 22:20:55.226 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-19 22:20:57.679 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-19 22:20:58.189 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 283.7102 ms
2024-04-19 22:20:58.202 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 525.4991ms
2024-04-19 22:20:58.255 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-19 22:20:58.255 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-19 22:20:58.270 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 15.2217ms
2024-04-19 22:20:58.348 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 93.4897ms
2024-04-19 22:20:58.448 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - -
2024-04-19 22:20:58.923 +07:00 [INF] HTTP GET /swagger/v111/swagger.json responded 200 in 472.6143 ms
2024-04-19 22:20:58.927 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - - - 200 - application/json;charset=utf-8 478.7100ms
2024-04-19 22:21:41.521 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/chapter/update multipart/form-data;+boundary=----WebKitFormBoundarypa9pibKJqCR3SOim 225520
2024-04-19 22:21:41.536 +07:00 [INF] CORS policy execution successful.
2024-04-19 22:21:41.789 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO)'
2024-04-19 22:21:41.848 +07:00 [INF] Route matched with {action = "UpdateChapter", controller = "Chapter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[YAHALLO.Domain.Common.Interfaces.ResponeResult]]] UpdateChapter(YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.ChapterController (YAHALLO).
2024-04-19 22:21:48.195 +07:00 [INF] Executed DbCommand (177ms) [Parameters=[@__request_MangaId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE [m].[Id] = @__request_MangaId_0
2024-04-19 22:21:52.004 +07:00 [INF] Executed DbCommand (175ms) [Parameters=[@__request_ChapterId_0='?' (Size = 450), @__request_MangaId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[Index], [c].[MangaId], [c].[Title], [c].[UpdateDate]
FROM [Chapter] AS [c]
WHERE [c].[Id] = @__request_ChapterId_0 AND [c].[MangaId] = @__request_MangaId_1 AND (([c].[IdUserDelete] IS NULL) OR ([c].[IdUserDelete] LIKE N'')) AND ([c].[DeleteDate] IS NULL)
2024-04-19 22:21:57.349 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__request_MangaId_0='?' (Size = 450), @__request_Index_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreateDate], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[Index], [c].[MangaId], [c].[Title], [c].[UpdateDate]
FROM [Chapter] AS [c]
WHERE [c].[MangaId] = @__request_MangaId_0 AND [c].[Index] = @__request_Index_1 AND (([c].[IdUserDelete] IS NULL) OR ([c].[IdUserDelete] LIKE N'')) AND ([c].[DeleteDate] IS NULL)
2024-04-19 22:22:01.968 +07:00 [INF] Executed DbCommand (57ms) [Parameters=[@p9='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450), @p7='?' (Size = 255), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Chapter] SET [CreateDate] = @p0, [DeleteDate] = @p1, [IdUserCreate] = @p2, [IdUserDelete] = @p3, [IdUserUpdate] = @p4, [Index] = @p5, [MangaId] = @p6, [Title] = @p7, [UpdateDate] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2024-04-19 22:22:08.701 +07:00 [INF] Executed DbCommand (68ms) [Parameters=[@__request_ChapterId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[ChapterId] = @__request_ChapterId_0 AND [i].[TypeImage] = 3
2024-04-19 22:29:42.771 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-19 22:29:43.558 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-19 22:29:43.560 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-19 22:29:43.566 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-19 22:29:43.567 +07:00 [INF] Hosting environment: Development
2024-04-19 22:29:43.568 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-19 22:29:45.655 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-19 22:29:46.461 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 425.5172 ms
2024-04-19 22:29:46.493 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 840.6352ms
2024-04-19 22:29:46.541 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-19 22:29:46.541 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-19 22:29:46.554 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 12.8602ms
2024-04-19 22:29:46.629 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 87.8889ms
2024-04-19 22:29:46.716 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - -
2024-04-19 22:29:47.243 +07:00 [INF] HTTP GET /swagger/v111/swagger.json responded 200 in 524.9607 ms
2024-04-19 22:29:47.246 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - - - 200 - application/json;charset=utf-8 530.0846ms
2024-04-19 22:30:41.861 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/chapter/update multipart/form-data;+boundary=----WebKitFormBoundaryuS1iCnZ09ewIK9o6 158373
2024-04-19 22:30:41.877 +07:00 [INF] CORS policy execution successful.
2024-04-19 22:30:42.289 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO)'
2024-04-19 22:30:42.364 +07:00 [INF] Route matched with {action = "UpdateChapter", controller = "Chapter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[YAHALLO.Domain.Common.Interfaces.ResponeResult]]] UpdateChapter(YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.ChapterController (YAHALLO).
2024-04-19 22:30:49.877 +07:00 [INF] Executed DbCommand (73ms) [Parameters=[@__request_MangaId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE [m].[Id] = @__request_MangaId_0
2024-04-19 22:30:54.000 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__request_ChapterId_0='?' (Size = 450), @__request_MangaId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[Index], [c].[MangaId], [c].[Title], [c].[UpdateDate]
FROM [Chapter] AS [c]
WHERE [c].[Id] = @__request_ChapterId_0 AND [c].[MangaId] = @__request_MangaId_1 AND (([c].[IdUserDelete] IS NULL) OR ([c].[IdUserDelete] LIKE N'')) AND ([c].[DeleteDate] IS NULL)
2024-04-19 22:30:59.223 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_MangaId_0='?' (Size = 450), @__request_Index_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreateDate], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[Index], [c].[MangaId], [c].[Title], [c].[UpdateDate]
FROM [Chapter] AS [c]
WHERE [c].[MangaId] = @__request_MangaId_0 AND [c].[Index] = @__request_Index_1 AND (([c].[IdUserDelete] IS NULL) OR ([c].[IdUserDelete] LIKE N'')) AND ([c].[DeleteDate] IS NULL)
2024-04-19 22:31:02.857 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@p9='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450), @p7='?' (Size = 255), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Chapter] SET [CreateDate] = @p0, [DeleteDate] = @p1, [IdUserCreate] = @p2, [IdUserDelete] = @p3, [IdUserUpdate] = @p4, [Index] = @p5, [MangaId] = @p6, [Title] = @p7, [UpdateDate] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2024-04-19 22:31:06.930 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__request_ChapterId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[ChapterId] = @__request_ChapterId_0 AND [i].[TypeImage] = 3
2024-04-19 22:32:36.448 +07:00 [ERR] Yahallo Request: Unhandled Exception for Request UpdateChapterCommand {"ChapterId":"2373d94444cf4951b77ac711c24ac9f7","MangaId":"2d1dde391b544430aecda5a90844aa74","Title":"Cập nhật chương truyện 1","Index":1,"Images":[{"ContentDisposition":"form-data; name=\"Images\"; filename=\"f3d24ba679250adaad3810b0bafd2486.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"f3d24ba679250adaad3810b0bafd2486.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":38272,"Name":"Images","FileName":"f3d24ba679250adaad3810b0bafd2486.jpg","$type":"FormFile"},{"ContentDisposition":"form-data; name=\"Images\"; filename=\"74995792_p1.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"74995792_p1.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":58746,"Name":"Images","FileName":"74995792_p1.jpg","$type":"FormFile"},{"ContentDisposition":"form-data; name=\"Images\"; filename=\"Tamako.Market.600.1845211.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"Tamako.Market.600.1845211.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":60361,"Name":"Images","FileName":"Tamako.Market.600.1845211.jpg","$type":"FormFile"}],"ImageUrls":null,"$type":"UpdateChapterCommand"}
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommandHandler.<>c__DisplayClass6_0.<Handle>b__4(ImageEntity x) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\ChapterCommand\Update\UpdateChapterCommandHandler.cs:line 75
   at System.Linq.Enumerable.WhereListIterator`1.MoveNext()
   at YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommandHandler.Handle(UpdateChapterCommand request, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\ChapterCommand\Update\UpdateChapterCommandHandler.cs:line 76
   at YAHALLO.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at YAHALLO.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\AuthorizationBehaviour.cs:line 79
   at YAHALLO.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\PerformanceBehaviour.cs:line 34
   at YAHALLO.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 25
2024-04-19 22:32:37.091 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO) in 114719.8448ms
2024-04-19 22:32:37.305 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO)'
2024-04-19 22:32:38.623 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommandHandler.<>c__DisplayClass6_0.<Handle>b__4(ImageEntity x) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\ChapterCommand\Update\UpdateChapterCommandHandler.cs:line 75
   at System.Linq.Enumerable.WhereListIterator`1.MoveNext()
   at YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommandHandler.Handle(UpdateChapterCommand request, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\ChapterCommand\Update\UpdateChapterCommandHandler.cs:line 76
   at YAHALLO.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at YAHALLO.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\AuthorizationBehaviour.cs:line 79
   at YAHALLO.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\PerformanceBehaviour.cs:line 34
   at YAHALLO.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 25
   at YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter(UpdateChapterCommand command, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO\Controllers\Anonymous\ChapterController.cs:line 44
   at lambda_method7(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ExceptionContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-04-19 22:32:38.700 +07:00 [ERR] HTTP POST /chapter/update responded 500 in 116820.0849 ms
2024-04-19 22:33:55.684 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-19 22:33:56.341 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-19 22:33:56.342 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-19 22:33:56.344 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-19 22:33:56.345 +07:00 [INF] Hosting environment: Development
2024-04-19 22:33:56.345 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-19 22:34:00.862 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-19 22:34:01.334 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 274.2185 ms
2024-04-19 22:34:01.344 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 487.4599ms
2024-04-19 22:34:01.387 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-19 22:34:01.387 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-19 22:34:01.408 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 20.8358ms
2024-04-19 22:34:01.491 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 104.5173ms
2024-04-19 22:34:01.559 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - -
2024-04-19 22:34:02.101 +07:00 [INF] HTTP GET /swagger/v111/swagger.json responded 200 in 540.1110 ms
2024-04-19 22:34:02.118 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - - - 200 - application/json;charset=utf-8 558.9259ms
2024-04-19 22:34:46.531 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/chapter/update multipart/form-data;+boundary=----WebKitFormBoundary9tJAX18w4oBsMuFU 170185
2024-04-19 22:34:46.547 +07:00 [INF] CORS policy execution successful.
2024-04-19 22:34:46.806 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO)'
2024-04-19 22:34:46.841 +07:00 [INF] Route matched with {action = "UpdateChapter", controller = "Chapter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[YAHALLO.Domain.Common.Interfaces.ResponeResult]]] UpdateChapter(YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.ChapterController (YAHALLO).
2024-04-19 22:34:52.455 +07:00 [INF] Executed DbCommand (58ms) [Parameters=[@__request_MangaId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE [m].[Id] = @__request_MangaId_0
2024-04-19 22:34:55.205 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__request_ChapterId_0='?' (Size = 450), @__request_MangaId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[Index], [c].[MangaId], [c].[Title], [c].[UpdateDate]
FROM [Chapter] AS [c]
WHERE [c].[Id] = @__request_ChapterId_0 AND [c].[MangaId] = @__request_MangaId_1 AND (([c].[IdUserDelete] IS NULL) OR ([c].[IdUserDelete] LIKE N'')) AND ([c].[DeleteDate] IS NULL)
2024-04-19 22:35:00.430 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__request_MangaId_0='?' (Size = 450), @__request_Index_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreateDate], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[Index], [c].[MangaId], [c].[Title], [c].[UpdateDate]
FROM [Chapter] AS [c]
WHERE [c].[MangaId] = @__request_MangaId_0 AND [c].[Index] = @__request_Index_1 AND (([c].[IdUserDelete] IS NULL) OR ([c].[IdUserDelete] LIKE N'')) AND ([c].[DeleteDate] IS NULL)
2024-04-19 22:35:03.233 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@p9='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450), @p7='?' (Size = 255), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Chapter] SET [CreateDate] = @p0, [DeleteDate] = @p1, [IdUserCreate] = @p2, [IdUserDelete] = @p3, [IdUserUpdate] = @p4, [Index] = @p5, [MangaId] = @p6, [Title] = @p7, [UpdateDate] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2024-04-19 22:35:07.549 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__request_ChapterId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[ChapterId] = @__request_ChapterId_0 AND [i].[TypeImage] = 3
2024-04-19 22:36:10.149 +07:00 [ERR] Yahallo Request: Unhandled Exception for Request UpdateChapterCommand {"ChapterId":"2373d94444cf4951b77ac711c24ac9f7","MangaId":"2d1dde391b544430aecda5a90844aa74","Title":"New update 2","Index":2,"Images":[{"ContentDisposition":"form-data; name=\"Images\"; filename=\"Tamako.Market.600.1845211.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"Tamako.Market.600.1845211.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":60361,"Name":"Images","FileName":"Tamako.Market.600.1845211.jpg","$type":"FormFile"},{"ContentDisposition":"form-data; name=\"Images\"; filename=\"f3d24ba679250adaad3810b0bafd2486.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"f3d24ba679250adaad3810b0bafd2486.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":38272,"Name":"Images","FileName":"f3d24ba679250adaad3810b0bafd2486.jpg","$type":"FormFile"},{"ContentDisposition":"form-data; name=\"Images\"; filename=\"len1.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"len1.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":70588,"Name":"Images","FileName":"len1.jpg","$type":"FormFile"}],"ImageUrls":null,"$type":"UpdateChapterCommand"}
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommandHandler.<>c__DisplayClass6_0.<Handle>b__4(ImageEntity x) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\ChapterCommand\Update\UpdateChapterCommandHandler.cs:line 75
   at System.Linq.Enumerable.WhereListIterator`1.MoveNext()
   at YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommandHandler.Handle(UpdateChapterCommand request, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\ChapterCommand\Update\UpdateChapterCommandHandler.cs:line 76
   at YAHALLO.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at YAHALLO.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\AuthorizationBehaviour.cs:line 79
   at YAHALLO.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\PerformanceBehaviour.cs:line 34
   at YAHALLO.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 25
2024-04-19 22:36:10.793 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO) in 83944.5988ms
2024-04-19 22:36:10.989 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO)'
2024-04-19 22:36:11.315 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommandHandler.<>c__DisplayClass6_0.<Handle>b__4(ImageEntity x) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\ChapterCommand\Update\UpdateChapterCommandHandler.cs:line 75
   at System.Linq.Enumerable.WhereListIterator`1.MoveNext()
   at YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommandHandler.Handle(UpdateChapterCommand request, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\ChapterCommand\Update\UpdateChapterCommandHandler.cs:line 76
   at YAHALLO.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at YAHALLO.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\AuthorizationBehaviour.cs:line 79
   at YAHALLO.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\PerformanceBehaviour.cs:line 34
   at YAHALLO.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 25
   at YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter(UpdateChapterCommand command, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO\Controllers\Anonymous\ChapterController.cs:line 44
   at lambda_method7(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ExceptionContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-04-19 22:36:11.362 +07:00 [ERR] HTTP POST /chapter/update responded 500 in 84813.7133 ms
2024-04-19 22:39:07.327 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-19 22:39:08.475 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-19 22:39:08.476 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-19 22:39:08.477 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-19 22:39:08.478 +07:00 [INF] Hosting environment: Development
2024-04-19 22:39:08.479 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-19 22:39:12.242 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-19 22:39:12.985 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 298.8389 ms
2024-04-19 22:39:12.998 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 762.2045ms
2024-04-19 22:39:13.074 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-19 22:39:13.074 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-19 22:39:13.082 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 7.6950ms
2024-04-19 22:39:13.151 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 77.3146ms
2024-04-19 22:39:13.308 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - -
2024-04-19 22:39:13.851 +07:00 [INF] HTTP GET /swagger/v111/swagger.json responded 200 in 533.3056 ms
2024-04-19 22:39:13.854 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - - - 200 - application/json;charset=utf-8 564.6864ms
2024-04-19 22:39:54.296 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/chapter/update multipart/form-data;+boundary=----WebKitFormBoundaryEncBpY8nEsWmYvFM 162575
2024-04-19 22:39:54.310 +07:00 [INF] CORS policy execution successful.
2024-04-19 22:39:54.604 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO)'
2024-04-19 22:39:54.660 +07:00 [INF] Route matched with {action = "UpdateChapter", controller = "Chapter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[YAHALLO.Domain.Common.Interfaces.ResponeResult]]] UpdateChapter(YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.ChapterController (YAHALLO).
2024-04-19 22:40:01.146 +07:00 [INF] Executed DbCommand (162ms) [Parameters=[@__request_MangaId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE [m].[Id] = @__request_MangaId_0
2024-04-19 22:40:04.266 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__request_ChapterId_0='?' (Size = 450), @__request_MangaId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[Index], [c].[MangaId], [c].[Title], [c].[UpdateDate]
FROM [Chapter] AS [c]
WHERE [c].[Id] = @__request_ChapterId_0 AND [c].[MangaId] = @__request_MangaId_1 AND (([c].[IdUserDelete] IS NULL) OR ([c].[IdUserDelete] LIKE N'')) AND ([c].[DeleteDate] IS NULL)
2024-04-19 22:40:08.182 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__request_MangaId_0='?' (Size = 450), @__request_Index_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreateDate], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[Index], [c].[MangaId], [c].[Title], [c].[UpdateDate]
FROM [Chapter] AS [c]
WHERE [c].[MangaId] = @__request_MangaId_0 AND [c].[Index] = @__request_Index_1 AND (([c].[IdUserDelete] IS NULL) OR ([c].[IdUserDelete] LIKE N'')) AND ([c].[DeleteDate] IS NULL)
2024-04-19 22:40:11.593 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[@p9='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450), @p7='?' (Size = 255), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Chapter] SET [CreateDate] = @p0, [DeleteDate] = @p1, [IdUserCreate] = @p2, [IdUserDelete] = @p3, [IdUserUpdate] = @p4, [Index] = @p5, [MangaId] = @p6, [Title] = @p7, [UpdateDate] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2024-04-19 22:40:16.286 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__request_ChapterId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[ChapterId] = @__request_ChapterId_0 AND [i].[TypeImage] = 3
2024-04-19 22:41:40.044 +07:00 [ERR] Yahallo Request: Unhandled Exception for Request UpdateChapterCommand {"ChapterId":"2373d94444cf4951b77ac711c24ac9f7","MangaId":"2d1dde391b544430aecda5a90844aa74","Title":"New update 23","Index":1,"Images":[{"ContentDisposition":"form-data; name=\"Images\"; filename=\"74995792_p1.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"74995792_p1.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":58746,"Name":"Images","FileName":"74995792_p1.jpg","$type":"FormFile"},{"ContentDisposition":"form-data; name=\"Images\"; filename=\"f3d24ba679250adaad3810b0bafd2486.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"f3d24ba679250adaad3810b0bafd2486.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":38272,"Name":"Images","FileName":"f3d24ba679250adaad3810b0bafd2486.jpg","$type":"FormFile"},{"ContentDisposition":"form-data; name=\"Images\"; filename=\"Shiina.Mashiro.600.1374691.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"Shiina.Mashiro.600.1374691.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":64584,"Name":"Images","FileName":"Shiina.Mashiro.600.1374691.jpg","$type":"FormFile"}],"ImageUrls":null,"$type":"UpdateChapterCommand"}
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommandHandler.<>c__DisplayClass6_0.<Handle>b__4(ImageEntity x) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\ChapterCommand\Update\UpdateChapterCommandHandler.cs:line 75
   at System.Linq.Enumerable.WhereListIterator`1.MoveNext()
   at YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommandHandler.Handle(UpdateChapterCommand request, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\ChapterCommand\Update\UpdateChapterCommandHandler.cs:line 76
   at YAHALLO.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at YAHALLO.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\AuthorizationBehaviour.cs:line 79
   at YAHALLO.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\PerformanceBehaviour.cs:line 34
   at YAHALLO.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 25
2024-04-19 22:41:40.584 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO) in 105918.1647ms
2024-04-19 22:41:40.691 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO)'
2024-04-19 22:41:40.921 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommandHandler.<>c__DisplayClass6_0.<Handle>b__4(ImageEntity x) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\ChapterCommand\Update\UpdateChapterCommandHandler.cs:line 75
   at System.Linq.Enumerable.WhereListIterator`1.MoveNext()
   at YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommandHandler.Handle(UpdateChapterCommand request, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Commands\ChapterCommand\Update\UpdateChapterCommandHandler.cs:line 76
   at YAHALLO.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at YAHALLO.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\AuthorizationBehaviour.cs:line 79
   at YAHALLO.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\PerformanceBehaviour.cs:line 34
   at YAHALLO.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO.Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 25
   at YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter(UpdateChapterCommand command, CancellationToken cancellationToken) in D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO\Controllers\Anonymous\ChapterController.cs:line 44
   at lambda_method7(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ExceptionContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-04-19 22:41:40.959 +07:00 [ERR] HTTP POST /chapter/update responded 500 in 106647.6485 ms
2024-04-19 22:43:36.279 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-19 22:43:36.945 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-19 22:43:36.946 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-19 22:43:36.950 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-19 22:43:36.951 +07:00 [INF] Hosting environment: Development
2024-04-19 22:43:36.952 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-19 22:43:42.659 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-19 22:43:43.128 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 283.4705 ms
2024-04-19 22:43:43.146 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 488.2705ms
2024-04-19 22:43:43.266 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-19 22:43:43.270 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-19 22:43:43.302 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 35.8158ms
2024-04-19 22:43:43.366 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 96.1444ms
2024-04-19 22:43:43.449 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - -
2024-04-19 22:43:44.424 +07:00 [INF] HTTP GET /swagger/v111/swagger.json responded 200 in 972.3293 ms
2024-04-19 22:43:44.430 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - - - 200 - application/json;charset=utf-8 980.2917ms
2024-04-19 22:44:19.313 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/chapter/update multipart/form-data;+boundary=----WebKitFormBoundaryIDu47pOBzcY5hwqx 158346
2024-04-19 22:44:19.338 +07:00 [INF] CORS policy execution successful.
2024-04-19 22:44:19.609 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO)'
2024-04-19 22:44:19.666 +07:00 [INF] Route matched with {action = "UpdateChapter", controller = "Chapter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[YAHALLO.Domain.Common.Interfaces.ResponeResult]]] UpdateChapter(YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.ChapterController (YAHALLO).
2024-04-19 22:44:26.231 +07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__request_MangaId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE [m].[Id] = @__request_MangaId_0
2024-04-19 22:44:29.879 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__request_ChapterId_0='?' (Size = 450), @__request_MangaId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[Index], [c].[MangaId], [c].[Title], [c].[UpdateDate]
FROM [Chapter] AS [c]
WHERE [c].[Id] = @__request_ChapterId_0 AND [c].[MangaId] = @__request_MangaId_1 AND (([c].[IdUserDelete] IS NULL) OR ([c].[IdUserDelete] LIKE N'')) AND ([c].[DeleteDate] IS NULL)
2024-04-19 22:44:35.002 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__request_MangaId_0='?' (Size = 450), @__request_Index_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreateDate], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[Index], [c].[MangaId], [c].[Title], [c].[UpdateDate]
FROM [Chapter] AS [c]
WHERE [c].[MangaId] = @__request_MangaId_0 AND [c].[Index] = @__request_Index_1 AND (([c].[IdUserDelete] IS NULL) OR ([c].[IdUserDelete] LIKE N'')) AND ([c].[DeleteDate] IS NULL)
2024-04-19 22:44:37.482 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@p9='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450), @p7='?' (Size = 255), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Chapter] SET [CreateDate] = @p0, [DeleteDate] = @p1, [IdUserCreate] = @p2, [IdUserDelete] = @p3, [IdUserUpdate] = @p4, [Index] = @p5, [MangaId] = @p6, [Title] = @p7, [UpdateDate] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2024-04-19 22:44:40.856 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__request_ChapterId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[BaseUrl], [i].[ChapterId], [i].[CloudUrl], [i].[CreateDate], [i].[DeleteDate], [i].[IdUserCreate], [i].[IdUserDelete], [i].[IdUserUpdate], [i].[Index], [i].[MangaId], [i].[TypeImage], [i].[UpdateDate], [i].[UserId]
FROM [Image] AS [i]
WHERE [i].[ChapterId] = @__request_ChapterId_0 AND [i].[TypeImage] = 3
2024-04-19 22:45:51.884 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@p13='?' (Size = 450), @p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (Size = 450), @p27='?' (Size = 450), @p14='?' (Size = 4000), @p15='?' (Size = 450), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 450), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Image] SET [BaseUrl] = @p0, [ChapterId] = @p1, [CloudUrl] = @p2, [CreateDate] = @p3, [DeleteDate] = @p4, [IdUserCreate] = @p5, [IdUserDelete] = @p6, [IdUserUpdate] = @p7, [Index] = @p8, [MangaId] = @p9, [TypeImage] = @p10, [UpdateDate] = @p11, [UserId] = @p12
OUTPUT 1
WHERE [Id] = @p13;
UPDATE [Image] SET [BaseUrl] = @p14, [ChapterId] = @p15, [CloudUrl] = @p16, [CreateDate] = @p17, [DeleteDate] = @p18, [IdUserCreate] = @p19, [IdUserDelete] = @p20, [IdUserUpdate] = @p21, [Index] = @p22, [MangaId] = @p23, [TypeImage] = @p24, [UpdateDate] = @p25, [UserId] = @p26
OUTPUT 1
WHERE [Id] = @p27;
2024-04-19 22:46:01.066 +07:00 [WRN] Yahallo Long Running Request: UpdateChapterCommand (101132 milliseconds) 0c425578cf3545498bfe86ae001ad508 {"ChapterId":"2373d94444cf4951b77ac711c24ac9f7","MangaId":"2d1dde391b544430aecda5a90844aa74","Title":"Update","Index":999,"Images":[{"ContentDisposition":"form-data; name=\"Images\"; filename=\"f3d24ba679250adaad3810b0bafd2486.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"f3d24ba679250adaad3810b0bafd2486.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":38272,"Name":"Images","FileName":"f3d24ba679250adaad3810b0bafd2486.jpg","$type":"FormFile"},{"ContentDisposition":"form-data; name=\"Images\"; filename=\"74995792_p1.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"74995792_p1.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":58746,"Name":"Images","FileName":"74995792_p1.jpg","$type":"FormFile"},{"ContentDisposition":"form-data; name=\"Images\"; filename=\"Tamako.Market.600.1845211.jpg\"","ContentType":"image/jpeg","Headers":[{"Key":"Content-Disposition","Value":["form-data; name=\"Images\"; filename=\"Tamako.Market.600.1845211.jpg\""],"$type":"KeyValuePair`2"},{"Key":"Content-Type","Value":["image/jpeg"],"$type":"KeyValuePair`2"}],"Length":60361,"Name":"Images","FileName":"Tamako.Market.600.1845211.jpg","$type":"FormFile"}],"ImageUrls":null,"$type":"UpdateChapterCommand"}
2024-04-19 22:46:01.129 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[YAHALLO.Domain.Common.Interfaces.ResponeResult, YAHALLO.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-19 22:46:01.157 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO) in 101481.8351ms
2024-04-19 22:46:01.161 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO)'
2024-04-19 22:46:01.162 +07:00 [INF] HTTP POST /chapter/update responded 200 in 101821.9436 ms
2024-04-19 22:46:01.179 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7181/chapter/update multipart/form-data;+boundary=----WebKitFormBoundaryIDu47pOBzcY5hwqx 158346 - 200 - application/json;+charset=utf-8 101865.6301ms
2024-04-19 22:47:14.222 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-19 22:47:14.992 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-19 22:47:14.994 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-19 22:47:14.996 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-19 22:47:14.998 +07:00 [INF] Hosting environment: Development
2024-04-19 22:47:14.999 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-19 22:47:18.605 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-19 22:47:19.192 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 289.6712 ms
2024-04-19 22:47:19.206 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 605.7219ms
2024-04-19 22:47:19.238 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-19 22:47:19.256 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 17.8038ms
2024-04-19 22:47:19.296 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-19 22:47:19.430 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 134.3006ms
2024-04-19 22:47:19.580 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - -
2024-04-19 22:47:20.229 +07:00 [INF] HTTP GET /swagger/v111/swagger.json responded 200 in 647.3918 ms
2024-04-19 22:47:20.232 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - - - 200 - application/json;charset=utf-8 652.1330ms
2024-04-19 22:48:39.411 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7181/chapter/update multipart/form-data;+boundary=----WebKitFormBoundaryRBI7Rn1JvwMPGsQp 494
2024-04-19 22:48:39.424 +07:00 [INF] CORS policy execution successful.
2024-04-19 22:48:39.759 +07:00 [INF] Executing endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO)'
2024-04-19 22:48:39.810 +07:00 [INF] Route matched with {action = "UpdateChapter", controller = "Chapter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[YAHALLO.Services.JsonResponse`1[YAHALLO.Domain.Common.Interfaces.ResponeResult]]] UpdateChapter(YAHALLO.Application.Commands.ChapterCommand.Update.UpdateChapterCommand, System.Threading.CancellationToken) on controller YAHALLO.Controllers.Anonymous.ChapterController (YAHALLO).
2024-04-19 22:48:43.877 +07:00 [INF] Executed DbCommand (143ms) [Parameters=[@__request_MangaId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Countries], [m].[CreateDate], [m].[DeleteDate], [m].[Description], [m].[IdUserCreate], [m].[IdUserDelete], [m].[IdUserUpdate], [m].[Level], [m].[MangaSeasonId], [m].[Name], [m].[Season], [m].[Status], [m].[Type], [m].[UpdateDate], [m].[UserId]
FROM [Manga] AS [m]
WHERE [m].[Id] = @__request_MangaId_0
2024-04-19 22:48:44.267 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__request_ChapterId_0='?' (Size = 450), @__request_MangaId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[CreateDate], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[Index], [c].[MangaId], [c].[Title], [c].[UpdateDate]
FROM [Chapter] AS [c]
WHERE [c].[Id] = @__request_ChapterId_0 AND [c].[MangaId] = @__request_MangaId_1 AND (([c].[IdUserDelete] IS NULL) OR ([c].[IdUserDelete] LIKE N'')) AND ([c].[DeleteDate] IS NULL)
2024-04-19 22:48:44.356 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_MangaId_0='?' (Size = 450), @__request_Index_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreateDate], [c].[DeleteDate], [c].[IdUserCreate], [c].[IdUserDelete], [c].[IdUserUpdate], [c].[Index], [c].[MangaId], [c].[Title], [c].[UpdateDate]
FROM [Chapter] AS [c]
WHERE [c].[MangaId] = @__request_MangaId_0 AND [c].[Index] = @__request_Index_1 AND (([c].[IdUserDelete] IS NULL) OR ([c].[IdUserDelete] LIKE N'')) AND ([c].[DeleteDate] IS NULL)
2024-04-19 22:48:44.636 +07:00 [INF] Executed DbCommand (97ms) [Parameters=[@p9='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450), @p7='?' (Size = 255), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Chapter] SET [CreateDate] = @p0, [DeleteDate] = @p1, [IdUserCreate] = @p2, [IdUserDelete] = @p3, [IdUserUpdate] = @p4, [Index] = @p5, [MangaId] = @p6, [Title] = @p7, [UpdateDate] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2024-04-19 22:48:44.654 +07:00 [WRN] Yahallo Long Running Request: UpdateChapterCommand (4585 milliseconds) 0c425578cf3545498bfe86ae001ad508 {"ChapterId":"2373d94444cf4951b77ac711c24ac9f7","MangaId":"2d1dde391b544430aecda5a90844aa74","Title":"Ha le lu ya","Index":1,"Images":null,"ImageUrls":null,"$type":"UpdateChapterCommand"}
2024-04-19 22:48:44.674 +07:00 [INF] Executing OkObjectResult, writing value of type 'YAHALLO.Services.JsonResponse`1[[YAHALLO.Domain.Common.Interfaces.ResponeResult, YAHALLO.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-19 22:48:44.695 +07:00 [INF] Executed action YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO) in 4878.2628ms
2024-04-19 22:48:44.699 +07:00 [INF] Executed endpoint 'YAHALLO.Controllers.Anonymous.ChapterController.UpdateChapter (YAHALLO)'
2024-04-19 22:48:44.700 +07:00 [INF] HTTP POST /chapter/update responded 200 in 5274.4655 ms
2024-04-19 22:48:44.714 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7181/chapter/update multipart/form-data;+boundary=----WebKitFormBoundaryRBI7Rn1JvwMPGsQp 494 - 200 - application/json;+charset=utf-8 5302.4739ms
2024-04-19 22:53:13.002 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-19 22:53:13.856 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-19 22:53:13.857 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-19 22:53:13.860 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-19 22:53:13.861 +07:00 [INF] Hosting environment: Development
2024-04-19 22:53:13.862 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-19 22:53:17.332 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-19 22:53:18.184 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 376.8354 ms
2024-04-19 22:53:18.197 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-19 22:53:18.217 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 882.2359ms
2024-04-19 22:53:18.232 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 35.5237ms
2024-04-19 22:53:18.330 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-19 22:53:18.409 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 78.9385ms
2024-04-19 22:53:18.656 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - -
2024-04-19 22:53:19.226 +07:00 [INF] HTTP GET /swagger/v111/swagger.json responded 200 in 564.5869 ms
2024-04-19 22:53:19.229 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v111/swagger.json - - - 200 - application/json;charset=utf-8 572.6968ms
2024-04-19 22:55:24.037 +07:00 [INF] User profile is available. Using 'C:\Users\haile\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-19 22:55:24.625 +07:00 [INF] Now listening on: https://localhost:7181
2024-04-19 22:55:24.627 +07:00 [INF] Now listening on: http://localhost:5213
2024-04-19 22:55:24.763 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-19 22:55:24.763 +07:00 [INF] Hosting environment: Development
2024-04-19 22:55:24.764 +07:00 [INF] Content root path: D:\LapTrinh\ASP.NET\YAHALLO\YAHALLO\YAHALLO
2024-04-19 22:55:29.843 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - -
2024-04-19 22:55:30.372 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 319.9737 ms
2024-04-19 22:55:30.388 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - - - 200 - text/html;charset=utf-8 551.3678ms
2024-04-19 22:55:30.411 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - -
2024-04-19 22:55:30.411 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - -
2024-04-19 22:55:30.451 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - - - 200 13750 application/javascript;+charset=utf-8 39.1785ms
2024-04-19 22:55:30.529 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 117.7546ms
2024-04-19 22:55:30.592 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - -
2024-04-19 22:55:31.093 +07:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 499.7000 ms
2024-04-19 22:55:31.096 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 503.8011ms
